var Br=Object.defineProperty;var Vr=(n,t,e)=>t in n?Br(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var kt=(n,t,e)=>Vr(n,typeof t!="symbol"?t+"":t,e);import{S as qr}from"./sweetalert2.esm.all-DV3w3JmD.js";var zr=Object.defineProperty,Kr=(n,t,e)=>t in n?zr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ut=(n,t,e)=>Kr(n,typeof t!="symbol"?t+"":t,e);document.addEventListener("alpine:init",()=>{window.Alpine.store("editOnClickValidation",{pending:[],set(n,t){this.pending=this.pending.filter(e=>e.value!==n),this.pending.push({value:n,textContent:t})},has(n){return this.pending.some(t=>t.value===n)},get(n){return this.pending.find(t=>t.value===n)},notContains(n){return this.pending.length>0&&!this.has(n)},clear(){this.pending=[]},getTextContent(n){const t=this.pending.find(e=>e.value===n);return t?t.textContent:null}}),window.editOnClickValidation=window.Alpine.store("editOnClickValidation")});document.addEventListener("alpine:init",()=>{window.Alpine.store("pgBulkActions",{selected:[],init(){window.addEventListener("pgBulkActions::addMore",n=>{const t=n.__livewire.params[0];typeof this.selected[t.tableName]>"u"&&(this.selected[t.tableName]=[]),this.selected[t.tableName].push(t.value)}),window.addEventListener("pgBulkActions::clear",n=>{this.clear(n.detail)}),window.addEventListener("pgBulkActions::clearAll",()=>{this.clearAll()})},add(n,t){if(typeof this.selected[t]>"u"&&(this.selected[t]=[]),!this.selected[t].includes(n)){this.selected[t].push(n);return}this.remove(n,t)},remove(n,t){const e=this.selected[t].indexOf(n);e>-1&&this.selected[t].splice(e,1)},get(n){return this.selected[n]??""},count(n){return typeof this.selected[n]>"u"?0:this.selected[n].length},clear(n){this.selected[n]=[]},clearAll(){this.selected=[]}}),window.pgBulkActions=window.Alpine.store("pgBulkActions")});const Wr=n=>({field:n.field??null,tableName:n.tableName??null,enabled:n.enabled??!1,id:n.id,trueValue:n.trueValue,falseValue:n.falseValue,toggle:n.toggle,save(){this.toggle=this.toggle===0?1:0,this.$wire.dispatch("pg:toggleable-"+this.tableName,{id:this.id,field:this.field,value:this.toggle})}}),Xr=(n,t,e)=>{const i=n[t];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((r,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})},Ur=n=>({dataField:n.dataField,tableName:n.tableName,label:n.label??null,locale:n.locale??{locale:"default",dateFormat:"Y-m-d H:i",time_24hr:!1,enableTime:!0},onlyFuture:n.onlyFuture??!1,noWeekEnds:n.noWeekEnds??!1,customConfig:n.customConfig??null,type:n.type,element:null,selectedDates:null,async init(){typeof flatpickr>"u"&&(console.log("%c%s","color: #f59e0c; font-size: 1.2em; font-weight: bold; line-height: 1.5"," PowerGrid"),console.error("%c%s","font-size: 1em; line-height: 1.5",`
Failed to mount filter: Filter::datetime('${this.dataField}') on table ['${this.tableName}']

• Install flatpickr: npm install flatpickr

• Add 'import flatpickr from "flatpickr"' in resources/js/app.js file
  `)),window.addEventListener(`pg:clear_flatpickr::${this.tableName}:${this.dataField}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()}),window.addEventListener(`pg:clear_all_flatpickr::${this.tableName}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()});try{const e=await Xr(Object.assign({}),`./flatpickr/dist/l10n/${this.locale.locale}.js`,5);flatpickr.localize(e.default||e)}catch{}const t=this.getOptions();this.$refs.rangeInput&&typeof flatpickr<"u"&&(this.element=flatpickr(this.$refs.rangeInput,t),this.selectedDates=this.$wire.get(`filters.${this.type}.${this.dataField}.formatted`),this.element.setDate(this.selectedDates))},getOptions(){const t={mode:"range",defaultHour:0,...this.locale,...this.customConfig};return this.onlyFuture&&(t.minDate="today"),this.noWeekEnds&&(t.disable=[function(e){return e.getDay()===0||e.getDay()===6}]),t.onClose=(e,i,r)=>{e=e.map(a=>this.element.formatDate(a,"Y-m-d")),e.length>0&&this.selectedDates!==i&&Livewire.dispatch("pg:datePicker-"+this.tableName,{selectedDates:e,dateStr:i,timezone:this.customConfig.timezone??new Date().toString().match(/([-\+][0-9]+)\s/)[1],type:this.type,field:this.dataField,label:this.label})},t}}),Qr=n=>({theme:n.theme,id:n.id??null,dataField:n.dataField??null,content:n.content,fallback:n.fallback,inputClass:n.inputClass,saveOnMouseOut:n.saveOnMouseOut,oldContent:null,editable:!1,hash:null,hashError:!0,showEditable:!1,editableInput:"",init(){this.content.length===0&&this.fallback&&(this.content=this.htmlSpecialChars(this.fallback)),this.hash=this.dataField+"-"+this.id,window.addEventListener("toggle-"+this.hash,()=>{this.observe(()=>document.getElementById("clickable-"+this.hash),t=>{t.click(),this.observe(()=>document.getElementById("editable-"+this.hash),e=>{setTimeout(()=>this.setFocusToEnd(e),100)})})}),this.$watch("editable",t=>{if(t){let e=!1;if(this.showEditable=!1,this.content=this.htmlSpecialChars(this.content),this.oldContent=this.content,this.hashError=this.store().notContains(this.hash),this.observe(()=>document.getElementById("editable-"+this.hash),i=>{setTimeout(()=>{this.setFocusToEnd(i),this.store().getTextContent(this.hash)&&(i.textContent=this.store().getTextContent(this.hash))},30)}),this.hashError){const i=this.store().get(this.hash),r=document.getElementById("clickable-"+i);r&&r.click()}e=!0,this.editableInput=`
                <div
                    x-ref="editable"
                    x-text="content"
                    value="${this.content}"
                    placeholder="${this.content}"
                    contenteditable
                    class="pg-single-line ${this.inputClass}"
                    ${this.saveOnMouseOut?'x-on:mousedown.outside="save()"':""}
                    x-on:keydown.enter="save()"
                    id="${"editable-"+this.dataField+"-"+this.id}"
                    x-on:keydown.esc="cancel"
                >
                </div>`,this.$nextTick(()=>setTimeout(()=>{this.showEditable=e,this.focus()},150))}}),this.content=this.htmlSpecialChars(this.content)},store(){return window.editOnClickValidation},save(){this.store().clear(),this.store().set(this.hash,this.$el.textContent),this.observe(()=>document.getElementById("clickable-"+this.hash),t=>{t.textContent=this.$el.textContent}),window.addEventListener("pg:editable-close-"+this.id,()=>{this.store().clear(),this.editable=!1,this.showEditable=!1}),this.store().has(this.hash)||this.store().set(this.hash,this.$el.textContent),this.$wire.dispatch("pg:editable-"+this.$wire.tableName,{id:this.id,value:this.$el.textContent,field:this.dataField}),this.oldContent=this.store().getTextContent(this.hash),this.$nextTick(()=>{this.focus(),this.$el.setAttribute("value","")}),this.content=this.htmlSpecialChars(this.$el.textContent)},focus(){this.setFocusToEnd(this.$el)},cancel(){this.store().clear(),this.$refs.editable.textContent=this.oldContent,this.content=this.oldContent,this.editable=!1,this.showEditable=!1,this.$refs.error&&(this.$refs.error.innerHTML="")},htmlSpecialChars(t){const e=document.createElement("div");return e.innerHTML=t,e.textContent},observe(t,e){new MutationObserver((i,r)=>{for(let a of i)if(a.type==="childList"){const o=t();if(o){e(o),r.disconnect();break}}}).observe(document.body,{childList:!0,subtree:!0})},setFocusToEnd(t){if(!t)return;const e=window.getSelection(),i=document.createRange();i.selectNodeContents(t),i.collapse(!1),e.removeAllRanges(),e.addRange(i),t.focus()}});function Gr(n){n.querySelectorAll("tbody tr td").forEach(t=>{t.classList.remove("hidden")}),n.querySelectorAll("thead tr th").forEach(t=>{t.classList.remove("hidden")})}function Jr(n){let t=0;const e=n.querySelectorAll("table thead tr:nth-child(1) th[fixed]"),i=yi(n);return e.forEach(r=>{t+=yi(r)}),i-t}function Zr(n,t){const e=[].slice.call(n.querySelectorAll("table thead tr:nth-child(1) th")),i=[].slice.call(e).sort(function(d,p){const h=d.getAttribute("sort_order")??999,v=p.getAttribute("sort_order")??999;return h-v});let r=0,a=!0;const o=[];return i.forEach(d=>{const p=yi(d);d.getAttribute("fixed")===null&&(a&&r<=t&&r+p<=t?r+=p:(o.push(e.indexOf(d)+1),a=!1))}),o}function eo(n,t){for(const e of t)n.querySelectorAll(`tbody:not(tbody[expand]) tr td:nth-child(${e})`).forEach(i=>{i.classList.add("hidden")}),n.querySelectorAll(`thead tr th:nth-child(${e})`).forEach(i=>{i.classList.add("hidden")})}function to(n,t){var e,i;if(n.querySelectorAll("table tbody[expand] tr td div").length){for(const r of n.querySelectorAll("table tbody[expand] tr td div"))r.innerHTML="";if(t.length)for(const r of t){const a=n.querySelectorAll("table tbody:not(tbody[expand])");for(const o of a){const d=(e=o.nextElementSibling)==null?void 0:e.querySelector("tr td div");if(!d)continue;let p=n.querySelector(`table thead tr th:nth-child(${r}) span[data-value]`).textContent;const h=(i=o.querySelector(`tr:last-child td:nth-child(${r})`))==null?void 0:i.innerHTML;p.length&&(p+=":"),d.querySelector(`div[data-expand-item-${r}]`)||(d.innerHTML+=`<div class="responsive-row-expand-item-container" data-expand-item-${r}>
                    <span class="font-bold responsive-row-expand-item-name">${p}</span>
                    <span class="responsive-row-expand-item-value">${h}</span>
                </div>`)}}}}function yi(n){return parseFloat(n.getBoundingClientRect().width.toFixed(2))}function no(n){Gr(n);const t=Jr(n),e=Zr(n,t);to(n,e),eo(n,e)}const io=()=>({running:!1,expanded:null,element:null,hasHiddenElements:!1,size:0,toggleExpanded(n){this.expanded=this.expanded==n?null:n},init(){this.$nextTick(()=>{this.handleResize(),this.observeElement(),window.addEventListener("pg-livewire-request-finished",()=>{setTimeout(()=>this.handleResize(),5)})})},handleResize(){var n;const t=this.$el;no(t),this.hasHiddenElements=(n=t.querySelector("table tbody[expand] tr td div"))==null?void 0:n.innerHTML,this.hasHiddenElements||(this.expanded=null)},observeElement(){new ResizeObserver(n=>{n.forEach(t=>{if(t.contentRect.width>0){if(this.size===this.$el.getBoundingClientRect().width)return;this.size=this.$el.getBoundingClientRect().width,this.handleResize()}})}).observe(this.$el)}}),ro=(n,t,e)=>{Livewire.dispatch(`${n}-${t.tableName}`,{label:t.label,field:t.dataField,values:e})},mr=(n,t)=>{ro("pg:multiSelect",n,t)};function ti(n,t){n.split(/\s+/).forEach(e=>{t(e)})}class oo{constructor(){this._events={}}on(t,e){ti(t,i=>{const r=this._events[i]||[];r.push(e),this._events[i]=r})}off(t,e){var i=arguments.length;if(i===0){this._events={};return}ti(t,r=>{if(i===1){delete this._events[r];return}const a=this._events[r];a!==void 0&&(a.splice(a.indexOf(e),1),this._events[r]=a)})}trigger(t,...e){var i=this;ti(t,r=>{const a=i._events[r];a!==void 0&&a.forEach(o=>{o.apply(i,e)})})}}function so(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){n.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,i;const r=this,a=[];if(Array.isArray(t))t.forEach(o=>{typeof o=="string"?a.push(o):(r.plugins.settings[o.name]=o.options,a.push(o.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(r.plugins.settings[e]=t[e],a.push(e));for(;i=a.shift();)r.require(i)}loadPlugin(t){var e=this,i=e.plugins,r=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=r.fn.apply(e,[e.plugins.settings[t]||{}]),i.names.push(t)}require(t){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(i.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return i.loaded[t]}}}const $n=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":lo(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),vr=n=>{if(!ao(n))return n.join("");let t="",e=0;const i=()=>{e>1&&(t+="{"+e+"}")};return n.forEach((r,a)=>{if(r===n[a-1]){e++;return}i(),t+=r,e=1}),i(),t},br=n=>{let t=Array.from(n);return $n(t)},ao=n=>new Set(n).size!==n.length,sn=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),lo=n=>n.reduce((t,e)=>Math.max(t,co(e)),0),co=n=>Array.from(n).length,wr=n=>{if(n.length===1)return[[n]];let t=[];const e=n.substring(1);return wr(e).forEach(function(i){let r=i.slice(0);r[0]=n.charAt(0)+r[0],t.push(r),r=i.slice(0),r.unshift(n.charAt(0)),t.push(r)}),t},uo=[[0,65535]],fo="[̀-ͯ·ʾʼ]";let Mn,yr;const po=3,Di={},Ti={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in Ti){let t=Ti[n]||"";for(let e=0;e<t.length;e++){let i=t.substring(e,e+1);Di[i]=n}}const ho=new RegExp(Object.keys(Di).join("|")+"|"+fo,"gu"),go=n=>{Mn===void 0&&(Mn=wo(uo))},Fi=(n,t="NFKD")=>n.normalize(t),kn=n=>Array.from(n).reduce((t,e)=>t+mo(e),""),mo=n=>(n=Fi(n).toLowerCase().replace(ho,t=>Di[t]||""),Fi(n,"NFC"));function*vo(n){for(const[t,e]of n)for(let i=t;i<=e;i++){let r=String.fromCharCode(i),a=kn(r);a!=r.toLowerCase()&&(a.length>po||a.length!=0&&(yield{folded:a,composed:r,code_point:i}))}}const bo=n=>{const t={},e=(i,r)=>{const a=t[i]||new Set,o=new RegExp("^"+br(a)+"$","iu");r.match(o)||(a.add(sn(r)),t[i]=a)};for(let i of vo(n))e(i.folded,i.folded),e(i.folded,i.composed);return t},wo=n=>{const t=bo(n),e={};let i=[];for(let a in t){let o=t[a];o&&(e[a]=br(o)),a.length>1&&i.push(sn(a))}i.sort((a,o)=>o.length-a.length);const r=$n(i);return yr=new RegExp("^"+r,"u"),e},yo=(n,t=1)=>{let e=0;return n=n.map(i=>(Mn[i]&&(e+=i.length),Mn[i]||i)),e>=t?vr(n):""},Co=(n,t=1)=>(t=Math.max(t,n.length-1),$n(wr(n).map(e=>yo(e,t)))),Li=(n,t=!0)=>{let e=n.length>1?1:0;return $n(n.map(i=>{let r=[];const a=t?i.length():i.length()-1;for(let o=0;o<a;o++)r.push(Co(i.substrs[o]||"",e));return vr(r)}))},_o=(n,t)=>{for(const e of t){if(e.start!=n.start||e.end!=n.end||e.substrs.join("")!==n.substrs.join(""))continue;let i=n.parts;const r=a=>{for(const o of i){if(o.start===a.start&&o.substr===a.substr)return!1;if(!(a.length==1||o.length==1)&&(a.start<o.start&&a.end>o.start||o.start<a.start&&o.end>a.start))return!0}return!1};if(!(e.parts.filter(r).length>0))return!0}return!1};class Tn{constructor(){Ut(this,"parts"),Ut(this,"substrs"),Ut(this,"start"),Ut(this,"end"),this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let i=new Tn,r=JSON.parse(JSON.stringify(this.parts)),a=r.pop();for(const p of r)i.add(p);let o=e.substr.substring(0,t-a.start),d=o.length;return i.add({start:a.start,end:a.start+d,length:d,substr:o}),i}}const Oo=n=>{go(),n=kn(n);let t="",e=[new Tn];for(let i=0;i<n.length;i++){let r=n.substring(i).match(yr);const a=n.substring(i,i+1),o=r?r[0]:null;let d=[],p=new Set;for(const h of e){const v=h.last();if(!v||v.length==1||v.end<=i)if(o){const b=o.length;h.add({start:i,end:i+b,length:b,substr:o}),p.add("1")}else h.add({start:i,end:i+1,length:1,substr:a}),p.add("2");else if(o){let b=h.clone(i,v);const O=o.length;b.add({start:i,end:i+O,length:O,substr:o}),d.push(b)}else p.add("3")}if(d.length>0){d=d.sort((h,v)=>h.length()-v.length());for(let h of d)_o(h,e)||e.push(h);continue}if(i>0&&p.size==1&&!p.has("3")){t+=Li(e,!1);let h=new Tn;const v=e[0];v&&h.add(v.last()),e=[h]}}return t+=Li(e,!0),t},Do=(n,t)=>{if(n)return n[t]},So=(n,t)=>{if(n){for(var e,i=t.split(".");(e=i.shift())&&(n=n[e]););return n}},ni=(n,t,e)=>{var i,r;return!n||(n=n+"",t.regex==null)||(r=n.search(t.regex),r===-1)?0:(i=t.string.length/n.length,r===0&&(i+=.5),i*e)},ii=(n,t)=>{var e=n[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(n[t]=[e])},bn=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Eo=(n,t)=>typeof n=="number"&&typeof t=="number"?n>t?1:n<t?-1:0:(n=kn(n+"").toLowerCase(),t=kn(t+"").toLowerCase(),n>t?1:t>n?-1:0);class Ao{constructor(t,e){Ut(this,"items"),Ut(this,"settings"),this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,i){if(!t||!t.length)return[];const r=[],a=t.split(/\s+/);var o;return i&&(o=new RegExp("^("+Object.keys(i).map(sn).join("|")+"):(.*)$")),a.forEach(d=>{let p,h=null,v=null;o&&(p=d.match(o))&&(h=p[1],d=p[2]),d.length>0&&(this.settings.diacritics?v=Oo(d)||null:v=sn(d),v&&e&&(v="\\b"+v)),r.push({string:d,regex:v?new RegExp(v,"iu"):null,field:h})}),r}getScoreFunction(t,e){var i=this.prepareSearch(t,e);return this._getScoreFunction(i)}_getScoreFunction(t){const e=t.tokens,i=e.length;if(!i)return function(){return 0};const r=t.options.fields,a=t.weights,o=r.length,d=t.getAttrFn;if(!o)return function(){return 1};const p=function(){return o===1?function(h,v){const b=r[0].field;return ni(d(v,b),h,a[b]||1)}:function(h,v){var b=0;if(h.field){const O=d(v,h.field);!h.regex&&O?b+=1/o:b+=ni(O,h,1)}else bn(a,(O,H)=>{b+=ni(d(v,H),h,O)});return b/o}}();return i===1?function(h){return p(e[0],h)}:t.options.conjunction==="and"?function(h){var v,b=0;for(let O of e){if(v=p(O,h),v<=0)return 0;b+=v}return b/i}:function(h){var v=0;return bn(e,b=>{v+=p(b,h)}),v/i}}getSortFunction(t,e){var i=this.prepareSearch(t,e);return this._getSortFunction(i)}_getSortFunction(t){var e,i=[];const r=this,a=t.options,o=!t.query&&a.sort_empty?a.sort_empty:a.sort;if(typeof o=="function")return o.bind(this);const d=function(p,h){return p==="$score"?h.score:t.getAttrFn(r.items[h.id],p)};if(o)for(let p of o)(t.query||p.field!=="$score")&&i.push(p);if(t.query){e=!0;for(let p of i)if(p.field==="$score"){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(p=>p.field!=="$score");return i.length?function(p,h){var v,b;for(let O of i)if(b=O.field,v=(O.direction==="desc"?-1:1)*Eo(d(b,p),d(b,h)),v)return v;return 0}:null}prepareSearch(t,e){const i={};var r=Object.assign({},e);if(ii(r,"sort"),ii(r,"sort_empty"),r.fields){ii(r,"fields");const a=[];r.fields.forEach(o=>{typeof o=="string"&&(o={field:o,weight:1}),a.push(o),i[o.field]="weight"in o?o.weight:1}),r.fields=a}return{options:r,query:t.toLowerCase().trim(),tokens:this.tokenize(t,r.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:r.nesting?So:Do}}search(t,e){var i=this,r,a;a=this.prepareSearch(t,e),e=a.options,t=a.query;const o=e.score||i._getScoreFunction(a);t.length?bn(i.items,(p,h)=>{r=o(p),(e.filter===!1||r>0)&&a.items.push({score:r,id:h})}):bn(i.items,(p,h)=>{a.items.push({score:1,id:h})});const d=i._getSortFunction(a);return d&&a.items.sort(d),a.total=a.items.length,typeof e.limit=="number"&&(a.items=a.items.slice(0,e.limit)),a}}const Ue=n=>typeof n>"u"||n===null?null:xn(n),xn=n=>typeof n=="boolean"?n?"1":"0":n+"",ri=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),xo=(n,t)=>t>0?window.setTimeout(n,t):(n.call(null),null),Io=(n,t)=>{var e;return function(i,r){var a=this;e&&(a.loading=Math.max(a.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,a.loadedSearches[i]=!0,n.call(a,i,r)},t)}},Pi=(n,t,e)=>{var i,r=n.trigger,a={};n.trigger=function(){var o=arguments[0];if(t.indexOf(o)!==-1)a[o]=arguments;else return r.apply(n,arguments)},e.apply(n,[]),n.trigger=r;for(i of t)i in a&&r.apply(n,a[i])},Mo=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),de=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},ke=(n,t,e,i)=>{n.addEventListener(t,e,i)},Tt=(n,t)=>{if(!t||!t[n])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},oi=(n,t)=>n.getAttribute("id")||(n.setAttribute("id",t),t),Ni=n=>n.replace(/[\\"']/g,"\\$&"),Ft=(n,t)=>{t&&n.append(t)},ye=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},et=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Cr(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Cr=n=>typeof n=="string"&&n.indexOf("<")>-1,ko=n=>n.replace(/['"\\]/g,"\\$&"),si=(n,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),n.dispatchEvent(e)},wn=(n,t)=>{Object.assign(n.style,t)},Ye=(n,...t)=>{var e=_r(t);n=Or(n),n.map(i=>{e.map(r=>{i.classList.add(r)})})},vt=(n,...t)=>{var e=_r(t);n=Or(n),n.map(i=>{e.map(r=>{i.classList.remove(r)})})},_r=n=>{var t=[];return ye(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Or=n=>(Array.isArray(n)||(n=[n]),n),ai=(n,t,e)=>{if(!(e&&!e.contains(n)))for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},$i=(n,t=0)=>t>0?n[n.length-1]:n[0],To=n=>Object.keys(n).length===0,Hi=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},le=(n,t)=>{ye(t,(e,i)=>{e==null?n.removeAttribute(i):n.setAttribute(i,""+e)})},Ci=(n,t)=>{n.parentNode&&n.parentNode.replaceChild(t,n)},Fo=(n,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const e=a=>{var o=a.data.match(t);if(o&&a.data.length>0){var d=document.createElement("span");d.className="highlight";var p=a.splitText(o.index);p.splitText(o[0].length);var h=p.cloneNode(!0);return d.appendChild(h),Ci(p,d),1}return 0},i=a=>{a.nodeType===1&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&(a.className!=="highlight"||a.tagName!=="SPAN")&&Array.from(a.childNodes).forEach(o=>{r(o)})},r=a=>a.nodeType===3?e(a):(i(a),0);r(n)},Lo=n=>{var t=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var i=e.parentNode;i.replaceChild(e.firstChild,e),i.normalize()})},Po=65,No=13,$o=27,Ho=37,jo=38,Ro=39,Yo=40,ji=8,Bo=46,Ri=9,Vo=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),yn=Vo?"metaKey":"ctrlKey",Yi={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function Bi(n,t){var e=Object.assign({},Yi,t),i=e.dataAttr,r=e.labelField,a=e.valueField,o=e.disabledField,d=e.optgroupField,p=e.optgroupLabelField,h=e.optgroupValueField,v=n.tagName.toLowerCase(),b=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!b&&!e.allowEmptyOption){let A=n.querySelector('option[value=""]');A&&(b=A.textContent)}var O={placeholder:b,options:[],optgroups:[],items:[],maxItems:null},H=()=>{var A,M=O.options,I={},S=1;let B=0;var J=D=>{var N=Object.assign({},D.dataset),F=i&&N[i];return typeof F=="string"&&F.length&&(N=Object.assign(N,JSON.parse(F))),N},_e=(D,N)=>{var F=Ue(D.value);if(F!=null&&!(!F&&!e.allowEmptyOption)){if(I.hasOwnProperty(F)){if(N){var q=I[F][d];q?Array.isArray(q)?q.push(N):I[F][d]=[q,N]:I[F][d]=N}}else{var P=J(D);P[r]=P[r]||D.textContent,P[a]=P[a]||F,P[o]=P[o]||D.disabled,P[d]=P[d]||N,P.$option=D,P.$order=P.$order||++B,I[F]=P,M.push(P)}D.selected&&O.items.push(F)}},Z=D=>{var N,F;F=J(D),F[p]=F[p]||D.getAttribute("label")||"",F[h]=F[h]||S++,F[o]=F[o]||D.disabled,F.$order=F.$order||++B,O.optgroups.push(F),N=F[h],ye(D.children,q=>{_e(q,N)})};O.maxItems=n.hasAttribute("multiple")?null:1,ye(n.children,D=>{A=D.tagName.toLowerCase(),A==="optgroup"?Z(D):A==="option"&&_e(D)})},_=()=>{const A=n.getAttribute(i);if(A)O.options=JSON.parse(A),ye(O.options,I=>{O.items.push(I[a])});else{var M=n.value.trim()||"";if(!e.allowEmptyOption&&!M.length)return;const I=M.split(e.delimiter);ye(I,S=>{const B={};B[r]=S,B[a]=S,O.options.push(B)}),O.items=I}};return v==="select"?H():_(),Object.assign({},Yi,O,t)}var Vi=0;class Le extends so(oo){constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Vi++;var i,r=et(t);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this;var a=window.getComputedStyle&&window.getComputedStyle(r,null);i=a.getPropertyValue("direction");const o=Bi(r,e);this.settings=o,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag=r.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=oi(r,"tomselect-"+Vi),this.isRequired=r.required,this.sifter=new Ao(this.options,{diacritics:o.diacritics}),o.mode=o.mode||(o.maxItems===1?"single":"multi"),typeof o.hideSelected!="boolean"&&(o.hideSelected=o.mode==="multi"),typeof o.hidePlaceholder!="boolean"&&(o.hidePlaceholder=o.mode!=="multi");var d=o.createFilter;typeof d!="function"&&(typeof d=="string"&&(d=new RegExp(d)),d instanceof RegExp?o.createFilter=M=>d.test(M):o.createFilter=M=>this.settings.duplicates||!this.options[M]),this.initializePlugins(o.plugins),this.setupCallbacks(),this.setupTemplates();const p=et("<div>"),h=et("<div>"),v=this._render("dropdown"),b=et('<div role="listbox" tabindex="-1">'),O=this.input.getAttribute("class")||"",H=o.mode;var _;if(Ye(p,o.wrapperClass,O,H),Ye(h,o.controlClass),Ft(p,h),Ye(v,o.dropdownClass,H),o.copyClassesToDropdown&&Ye(v,O),Ye(b,o.dropdownContentClass),Ft(v,b),et(o.dropdownParent||p).appendChild(v),Cr(o.controlInput)){_=et(o.controlInput);var A=["autocorrect","autocapitalize","autocomplete","spellcheck"];ye(A,M=>{r.getAttribute(M)&&le(_,{[M]:r.getAttribute(M)})}),_.tabIndex=-1,h.appendChild(_),this.focus_node=_}else o.controlInput?(_=et(o.controlInput),this.focus_node=_):(_=et("<input/>"),this.focus_node=h);this.wrapper=p,this.dropdown=v,this.dropdown_content=b,this.control=h,this.control_input=_,this.setup()}setup(){const t=this,e=t.settings,i=t.control_input,r=t.dropdown,a=t.dropdown_content,o=t.wrapper,d=t.control,p=t.input,h=t.focus_node,v={passive:!0},b=t.inputId+"-ts-dropdown";le(a,{id:b}),le(h,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":b});const O=oi(h,t.inputId+"-ts-control"),H="label[for='"+ko(t.inputId)+"']",_=document.querySelector(H),A=t.focus.bind(t);if(_){ke(_,"click",A),le(_,{for:O});const S=oi(_,t.inputId+"-ts-label");le(h,{"aria-labelledby":S}),le(a,{"aria-labelledby":S})}if(o.style.width=p.style.width,t.plugins.names.length){const S="plugin-"+t.plugins.names.join(" plugin-");Ye([o,r],S)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&le(p,{multiple:"multiple"}),e.placeholder&&le(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+sn(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=Io(e.load,e.loadThrottle)),ke(r,"mousemove",()=>{t.ignoreHover=!1}),ke(r,"mouseenter",S=>{var B=ai(S.target,"[data-selectable]",r);B&&t.onOptionHover(S,B)},{capture:!0}),ke(r,"click",S=>{const B=ai(S.target,"[data-selectable]");B&&(t.onOptionSelect(S,B),de(S,!0))}),ke(d,"click",S=>{var B=ai(S.target,"[data-ts-item]",d);if(B&&t.onItemSelect(S,B)){de(S,!0);return}i.value==""&&(t.onClick(),de(S,!0))}),ke(h,"keydown",S=>t.onKeyDown(S)),ke(i,"keypress",S=>t.onKeyPress(S)),ke(i,"input",S=>t.onInput(S)),ke(h,"blur",S=>t.onBlur(S)),ke(h,"focus",S=>t.onFocus(S)),ke(i,"paste",S=>t.onPaste(S));const M=S=>{const B=S.composedPath()[0];if(!o.contains(B)&&!r.contains(B)){t.isFocused&&t.blur(),t.inputState();return}B==i&&t.isOpen?S.stopPropagation():de(S,!0)},I=()=>{t.isOpen&&t.positionDropdown()};ke(document,"mousedown",M),ke(window,"scroll",I,v),ke(window,"resize",I,v),this._destroy=()=>{document.removeEventListener("mousedown",M),window.removeEventListener("scroll",I),window.removeEventListener("resize",I),_&&_.removeEventListener("click",A)},this.revertSettings={innerHTML:p.innerHTML,tabIndex:p.tabIndex},p.tabIndex=-1,p.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,ke(p,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,p.disabled?t.disable():p.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),Ye(p,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),ye(e,i=>{this.registerOptionGroup(i)})}setupTemplates(){var t=this,e=t.settings.labelField,i=t.settings.optgroupLabelField,r={optgroup:a=>{let o=document.createElement("div");return o.className="optgroup",o.appendChild(a.options),o},optgroup_header:(a,o)=>'<div class="optgroup-header">'+o(a[i])+"</div>",option:(a,o)=>"<div>"+o(a[e])+"</div>",item:(a,o)=>"<div>"+o(a[e])+"</div>",option_create:(a,o)=>'<div class="create">Add <strong>'+o(a.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},r,t.settings.render)}setupCallbacks(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)e=this.settings[i[t]],e&&this.on(t,e)}sync(t=!0){const e=this,i=t?Bi(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(i.options,i.optgroups),e.setValue(i.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){si(this.input,"input"),si(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){de(t);return}e.settings.splitOn&&setTimeout(()=>{var i=e.inputValue();if(i.match(e.settings.splitOn)){var r=i.trim().split(e.settings.splitOn);ye(r,a=>{Ue(a)&&(this.options[a]?e.addItem(a):e.createItem(a))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){de(t);return}var i=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&i===e.settings.delimiter){e.createItem(),de(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==Ri&&de(t);return}switch(t.keyCode){case Po:if(Tt(yn,t)&&e.control_input.value==""){de(t),e.selectAll();return}break;case $o:e.isOpen&&(de(t,!0),e.close()),e.clearActiveItems();return;case Yo:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let i=e.getAdjacent(e.activeOption,1);i&&e.setActiveOption(i)}de(t);return;case jo:if(e.activeOption){let i=e.getAdjacent(e.activeOption,-1);i&&e.setActiveOption(i)}de(t);return;case No:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),de(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&de(t);return;case Ho:e.advanceSelection(-1,t);return;case Ro:e.advanceSelection(1,t);return;case Ri:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),de(t)),e.settings.create&&e.createItem()&&de(t));return;case ji:case Bo:e.deleteSelection(t);return}e.isInputHidden&&!Tt(yn,t)&&de(t)}onInput(t){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=xo(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,i=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),de(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),i||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(t,e){var i,r=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?r.createItem(null,()=>{r.settings.closeAfterSelect&&r.close()}):(i=e.dataset.value,typeof i<"u"&&(r.lastQuery=null,r.addItem(i),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&t.type&&/click/.test(t.type)&&r.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(de(t),i.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const e=this;if(!e.canLoad(t))return;Ye(e.wrapper,e.settings.loadingClass),e.loading++;const i=e.loadCallback.bind(e);e.settings.load.call(e,t,i)}loadCallback(t,e){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(t,e),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||vt(i.wrapper,i.settings.loadingClass),i.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,i=e.value!==t;i&&(e.value=t,si(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var i=e?[]:["change"];Pi(this,i,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var i=this,r,a,o,d,p,h;if(i.settings.mode!=="single"){if(!t){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(r=e&&e.type.toLowerCase(),r==="click"&&Tt("shiftKey",e)&&i.activeItems.length){for(h=i.getLastActive(),o=Array.prototype.indexOf.call(i.control.children,h),d=Array.prototype.indexOf.call(i.control.children,t),o>d&&(p=o,o=d,d=p),a=o;a<=d;a++)t=i.control.children[a],i.activeItems.indexOf(t)===-1&&i.setActiveItemClass(t);de(e)}else r==="click"&&Tt(yn,e)||r==="keydown"&&Tt("shiftKey",e)?t.classList.contains("active")?i.removeActiveItem(t):i.setActiveItemClass(t):(i.clearActiveItems(),i.setActiveItemClass(t));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(t){const e=this,i=e.control.querySelector(".last-active");i&&vt(i,"last-active"),Ye(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),vt(t,"active")}clearActiveItems(){vt(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,le(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),le(t,{"aria-selected":"true"}),Ye(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const i=this.dropdown_content,r=i.clientHeight,a=i.scrollTop||0,o=t.offsetHeight,d=t.getBoundingClientRect().top-i.getBoundingClientRect().top+a;d+o>r+a?this.scroll(d-r+o,e):d<a&&this.scroll(d,e)}scroll(t,e){const i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=t,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(vt(this.activeOption,"active"),le(this.activeOption,{"aria-selected":null})),this.activeOption=null,le(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,ye(e,i=>{t.setActiveItemClass(i)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(le(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&le(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,i,r=this,a=this.getSearchOptions();if(r.settings.score&&(i=r.settings.score.call(r,t),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==r.lastQuery?(r.lastQuery=t,e=r.sifter.search(t,Object.assign(a,{score:i})),r.currentResults=e):e=Object.assign({},r.currentResults),r.settings.hideSelected&&(e.items=e.items.filter(o=>{let d=Ue(o.id);return!(d&&r.items.indexOf(d)!==-1)})),e}refreshOptions(t=!0){var e,i,r,a,o,d,p,h,v,b;const O={},H=[];var _=this,A=_.inputValue();const M=A===_.lastQuery||A==""&&_.lastQuery==null;var I=_.search(A),S=null,B=_.settings.shouldOpen||!1,J=_.dropdown_content;M&&(S=_.activeOption,S&&(v=S.closest("[data-group]"))),a=I.items.length,typeof _.settings.maxOptions=="number"&&(a=Math.min(a,_.settings.maxOptions)),a>0&&(B=!0);const _e=(D,N)=>{let F=O[D];if(F!==void 0){let P=H[F];if(P!==void 0)return[F,P.fragment]}let q=document.createDocumentFragment();return F=H.length,H.push({fragment:q,order:N,optgroup:D}),[F,q]};for(e=0;e<a;e++){let D=I.items[e];if(!D)continue;let N=D.id,F=_.options[N];if(F===void 0)continue;let q=xn(N),P=_.getOption(q,!0);for(_.settings.hideSelected||P.classList.toggle("selected",_.items.includes(q)),o=F[_.settings.optgroupField]||"",d=Array.isArray(o)?o:[o],i=0,r=d&&d.length;i<r;i++){o=d[i];let we=F.$order,pe=_.optgroups[o];pe===void 0?o="":we=pe.$order;const[ze,Ge]=_e(o,we);i>0&&(P=P.cloneNode(!0),le(P,{id:F.$id+"-clone-"+i,"aria-selected":null}),P.classList.add("ts-cloned"),vt(P,"active"),_.activeOption&&_.activeOption.dataset.value==N&&v&&v.dataset.group===o.toString()&&(S=P)),Ge.appendChild(P),o!=""&&(O[o]=ze)}}_.settings.lockOptgroupOrder&&H.sort((D,N)=>D.order-N.order),p=document.createDocumentFragment(),ye(H,D=>{let N=D.fragment,F=D.optgroup;if(!N||!N.children.length)return;let q=_.optgroups[F];if(q!==void 0){let P=document.createDocumentFragment(),we=_.render("optgroup_header",q);Ft(P,we),Ft(P,N);let pe=_.render("optgroup",{group:q,options:P});Ft(p,pe)}else Ft(p,N)}),J.innerHTML="",Ft(J,p),_.settings.highlight&&(Lo(J),I.query.length&&I.tokens.length&&ye(I.tokens,D=>{Fo(J,D.regex)}));var Z=D=>{let N=_.render(D,{input:A});return N&&(B=!0,J.insertBefore(N,J.firstChild)),N};if(_.loading?Z("loading"):_.settings.shouldLoad.call(_,A)?I.items.length===0&&Z("no_results"):Z("not_loading"),h=_.canCreate(A),h&&(b=Z("option_create")),_.hasOptions=I.items.length>0||h,B){if(I.items.length>0){if(!S&&_.settings.mode==="single"&&_.items[0]!=null&&(S=_.getOption(_.items[0])),!J.contains(S)){let D=0;b&&!_.settings.addPrecedence&&(D=1),S=_.selectable()[D]}}else b&&(S=b);t&&!_.isOpen&&(_.open(),_.scrollToOption(S,"auto")),_.setActiveOption(S)}else _.clearActiveOption(),t&&_.isOpen&&_.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const i=this;if(Array.isArray(t))return i.addOptions(t,e),!1;const r=Ue(t[i.settings.valueField]);return r===null||i.options.hasOwnProperty(r)?!1:(t.$order=t.$order||++i.order,t.$id=i.inputId+"-opt-"+t.$order,i.options[r]=t,i.lastQuery=null,e&&(i.userOptions[r]=e,i.trigger("option_add",r,t)),r)}addOptions(t,e=!1){ye(t,i=>{this.addOption(i,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=Ue(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var i;e[this.settings.optgroupValueField]=t,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const i=this;var r,a;const o=Ue(t),d=Ue(e[i.settings.valueField]);if(o===null)return;const p=i.options[o];if(p==null)return;if(typeof d!="string")throw new Error("Value must be set in option data");const h=i.getOption(o),v=i.getItem(o);if(e.$order=e.$order||p.$order,delete i.options[o],i.uncacheValue(d),i.options[d]=e,h){if(i.dropdown_content.contains(h)){const b=i._render("option",e);Ci(h,b),i.activeOption===h&&i.setActiveOption(b)}h.remove()}v&&(a=i.items.indexOf(o),a!==-1&&i.items.splice(a,1,d),r=i._render("item",e),v.classList.contains("active")&&Ye(r,"active"),Ci(v,r)),i.lastQuery=null}removeOption(t,e){const i=this;t=xn(t),i.uncacheValue(t),delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};ye(this.options,(r,a)=>{e(r,a)&&(i[a]=r)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const i=Ue(t);if(i===null)return null;const r=this.options[i];if(r!=null){if(r.$div)return r.$div;if(e)return this._render("option",r)}return null}getAdjacent(t,e,i="option"){var r=this,a;if(!t)return null;i=="item"?a=r.controlChildren():a=r.dropdown_content.querySelectorAll("[data-selectable]");for(let o=0;o<a.length;o++)if(a[o]==t)return e>0?a[o+1]:a[o-1];return null}getItem(t){if(typeof t=="object")return t;var e=Ue(t);return e!==null?this.control.querySelector(`[data-value="${Ni(e)}"]`):null}addItems(t,e){var i=this,r=Array.isArray(t)?t:[t];r=r.filter(o=>i.items.indexOf(o)===-1);const a=r[r.length-1];r.forEach(o=>{i.isPending=o!==a,i.addItem(o,e)})}addItem(t,e){var i=e?[]:["change","dropdown_close"];Pi(this,i,()=>{var r,a;const o=this,d=o.settings.mode,p=Ue(t);if(!(p&&o.items.indexOf(p)!==-1&&(d==="single"&&o.close(),d==="single"||!o.settings.duplicates))&&!(p===null||!o.options.hasOwnProperty(p))&&(d==="single"&&o.clear(e),!(d==="multi"&&o.isFull()))){if(r=o._render("item",o.options[p]),o.control.contains(r)&&(r=r.cloneNode(!0)),a=o.isFull(),o.items.splice(o.caretPos,0,p),o.insertAtCaret(r),o.isSetup){if(!o.isPending&&o.settings.hideSelected){let h=o.getOption(p),v=o.getAdjacent(h,1);v&&o.setActiveOption(v)}!o.isPending&&!o.settings.closeAfterSelect&&o.refreshOptions(o.isFocused&&d!=="single"),o.settings.closeAfterSelect!=!1&&o.isFull()?o.close():o.isPending||o.positionDropdown(),o.trigger("item_add",p,r),o.isPending||o.updateOriginalInput({silent:e})}(!o.isPending||!a&&o.isFull())&&(o.inputState(),o.refreshState())}})}removeItem(t=null,e){const i=this;if(t=i.getItem(t),!t)return;var r,a;const o=t.dataset.value;r=Hi(t),t.remove(),t.classList.contains("active")&&(a=i.activeItems.indexOf(t),i.activeItems.splice(a,1),vt(t,"active")),i.items.splice(r,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(o)&&i.removeOption(o,e),r<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:e}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",o,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var i=this,r=i.caretPos,a;if(t=t||i.inputValue(),!i.canCreate(t))return e(),!1;i.lock();var o=!1,d=p=>{if(i.unlock(),!p||typeof p!="object")return e();var h=Ue(p[i.settings.valueField]);if(typeof h!="string")return e();i.setTextboxValue(),i.addOption(p,!0),i.setCaret(r),i.addItem(h),e(p),o=!0};return typeof i.settings.create=="function"?a=i.settings.create.call(this,t,d):a={[i.settings.labelField]:t,[i.settings.valueField]:t},o||d(a),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),i=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const r=t.wrapper.classList;r.toggle("focus",t.isFocused),r.toggle("disabled",t.isDisabled),r.toggle("readonly",t.isReadOnly),r.toggle("required",t.isRequired),r.toggle("invalid",!t.isValid),r.toggle("locked",i),r.toggle("full",e),r.toggle("input-active",t.isFocused&&!t.isInputHidden),r.toggle("dropdown-active",t.isOpen),r.toggle("has-options",To(t.options)),r.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var i,r;const a=e.input.querySelector('option[value=""]');if(e.is_select_tag){let o=function(h,v,b){return h||(h=et('<option value="'+ri(v)+'">'+ri(b)+"</option>")),h!=a&&e.input.append(h),d.push(h),(h!=a||p>0)&&(h.selected=!0),h};const d=[],p=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(h=>{h.selected=!1}),e.items.length==0&&e.settings.mode=="single"?o(a,"",""):e.items.forEach(h=>{if(i=e.options[h],r=i[e.settings.labelField]||"",d.includes(i.$option)){const v=e.input.querySelector(`option[value="${Ni(h)}"]:not(:checked)`);o(v,h,r)}else i.$option=o(i.$option,h,r)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,le(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),wn(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),wn(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,i=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,le(e.focus_node,{"aria-expanded":"false"}),wn(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),i&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),i=t.offsetHeight+e.top+window.scrollY,r=e.left+window.scrollX;wn(this.dropdown,{width:e.width+"px",top:i+"px",left:r+"px"})}}clear(t){var e=this;if(e.items.length){var i=e.controlChildren();ye(i,r=>{e.removeItem(r,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,i=e.caretPos,r=e.control;r.insertBefore(t,r.children[i]||null),e.setCaret(i+1)}deleteSelection(t){var e,i,r,a,o=this;e=t&&t.keyCode===ji?-1:1,i=Mo(o.control_input);const d=[];if(o.activeItems.length)a=$i(o.activeItems,e),r=Hi(a),e>0&&r++,ye(o.activeItems,p=>d.push(p));else if((o.isFocused||o.settings.mode==="single")&&o.items.length){const p=o.controlChildren();let h;e<0&&i.start===0&&i.length===0?h=p[o.caretPos-1]:e>0&&i.start===o.inputValue().length&&(h=p[o.caretPos]),h!==void 0&&d.push(h)}if(!o.shouldDelete(d,t))return!1;for(de(t,!0),typeof r<"u"&&o.setCaret(r);d.length;)o.removeItem(d.pop());return o.inputState(),o.positionDropdown(),o.refreshOptions(!1),!0}shouldDelete(t,e){const i=t.map(r=>r.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,e)===!1)}advanceSelection(t,e){var i,r,a=this;a.rtl&&(t*=-1),!a.inputValue().length&&(Tt(yn,e)||Tt("shiftKey",e)?(i=a.getLastActive(t),i?i.classList.contains("active")?r=a.getAdjacent(i,t,"item"):r=i:t>0?r=a.control_input.nextElementSibling:r=a.control_input.previousElementSibling,r&&(r.classList.contains("active")&&a.removeActiveItem(i),a.setActiveItemClass(r))):a.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");if(i)return $i(i,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,vt(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var i,r;const a=this;if(typeof this.settings.render[t]!="function"||(r=a.settings.render[t].call(this,e,ri),!r))return null;if(r=et(r),t==="option"||t==="option_create"?e[a.settings.disabledField]?le(r,{"aria-disabled":"true"}):le(r,{"data-selectable":""}):t==="optgroup"&&(i=e.group[a.settings.optgroupValueField],le(r,{"data-group":i}),e.group[a.settings.disabledField]&&le(r,{"data-disabled":""})),t==="option"||t==="item"){const o=xn(e[a.settings.valueField]);le(r,{"data-value":o}),t==="item"?(Ye(r,a.settings.itemClass),le(r,{"data-ts-item":""})):(Ye(r,a.settings.optionClass),le(r,{role:"option",id:e.$id}),e.$div=r,a.options[o]=e)}return r}_render(t,e){const i=this.render(t,e);if(i==null)throw"HTMLElement expected";return i}clearCache(){ye(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,i){var r=this,a=r[e];r[e]=function(){var o,d;return t==="after"&&(o=a.apply(r,arguments)),d=i.apply(r,arguments),t==="instead"?d:(t==="before"&&(o=a.apply(r,arguments)),o)}}}const qo=(n,t,e,i)=>{n.addEventListener(t,e,i)};function zo(){qo(this.input,"change",()=>{this.sync()})}const Ko=n=>typeof n>"u"||n===null?null:Wo(n),Wo=n=>typeof n=="boolean"?n?"1":"0":n+"",qi=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Xo=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Uo(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Uo=n=>typeof n=="string"&&n.indexOf("<")>-1;function Qo(n){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var r=function(o,d){d?(o.checked=!0,i.uncheckedClassNames&&o.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&o.classList.add(...i.checkedClassNames)):(o.checked=!1,i.checkedClassNames&&o.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&o.classList.add(...i.uncheckedClassNames))},a=function(o){setTimeout(()=>{var d=o.querySelector("input."+i.className);d instanceof HTMLInputElement&&r(d,o.classList.contains("selected"))},1)};t.hook("after","setupTemplates",()=>{var o=t.settings.render.option;t.settings.render.option=(d,p)=>{var h=Xo(o.call(t,d,p)),v=document.createElement("input");i.className&&v.classList.add(i.className),v.addEventListener("click",function(O){qi(O)}),v.type="checkbox";const b=Ko(d[t.settings.valueField]);return r(v,!!(b&&t.items.indexOf(b)>-1)),h.prepend(v),h}}),t.on("item_remove",o=>{var d=t.getOption(o);d&&(d.classList.remove("selected"),a(d))}),t.on("item_add",o=>{var d=t.getOption(o);d&&a(d)}),t.hook("instead","onOptionSelect",(o,d)=>{if(d.classList.contains("selected")){d.classList.remove("selected"),t.removeItem(d.dataset.value),t.refreshOptions(),qi(o,!0);return}e.call(t,o,d),a(d)})}const Go=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Jo(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Jo=n=>typeof n=="string"&&n.indexOf("<")>-1;function Zo(n){const t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},n);t.on("initialize",()=>{var i=Go(e.html(e));i.addEventListener("click",r=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),r.preventDefault(),r.stopPropagation())}),t.control.appendChild(i)})}const es=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Wt=(n,t,e,i)=>{n.addEventListener(t,e,i)},ts=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},ns=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(is(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},is=n=>typeof n=="string"&&n.indexOf("<")>-1,rs=(n,t)=>{ts(t,(e,i)=>{e==null?n.removeAttribute(i):n.setAttribute(i,""+e)})},os=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n.nextSibling)},ss=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n)},as=(n,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,n==t)return!0}while(t&&t.previousElementSibling);return!1};function ls(){var n=this;if(n.settings.mode!=="multi")return;var t=n.lock,e=n.unlock;let i=!0,r;n.hook("after","setupTemplates",()=>{var a=n.settings.render.item;n.settings.render.item=(o,d)=>{const p=ns(a.call(n,o,d));rs(p,{draggable:"true"});const h=A=>{i||es(A),A.stopPropagation()},v=A=>{r=p,setTimeout(()=>{p.classList.add("ts-dragging")},0)},b=A=>{A.preventDefault(),p.classList.add("ts-drag-over"),H(p,r)},O=()=>{p.classList.remove("ts-drag-over")},H=(A,M)=>{M!==void 0&&(as(M,p)?os(A,M):ss(A,M))},_=()=>{var A;document.querySelectorAll(".ts-drag-over").forEach(I=>I.classList.remove("ts-drag-over")),(A=r)==null||A.classList.remove("ts-dragging"),r=void 0;var M=[];n.control.querySelectorAll("[data-value]").forEach(I=>{if(I.dataset.value){let S=I.dataset.value;S&&M.push(S)}}),n.setValue(M)};return Wt(p,"mousedown",h),Wt(p,"dragstart",v),Wt(p,"dragenter",b),Wt(p,"dragover",b),Wt(p,"dragleave",O),Wt(p,"dragend",_),p}}),n.hook("instead","lock",()=>(i=!1,t.call(n))),n.hook("instead","unlock",()=>(i=!0,e.call(n)))}const cs=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},us=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(ds(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},ds=n=>typeof n=="string"&&n.indexOf("<")>-1;function fs(n){const t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},n);t.on("initialize",()=>{var i=us(e.html(e)),r=i.querySelector("."+e.closeClass);r&&r.addEventListener("click",a=>{cs(a,!0),t.close()}),t.dropdown.insertBefore(i,t.dropdown.firstChild)})}const ps=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},hs=(n,...t)=>{var e=gs(t);n=ms(n),n.map(i=>{e.map(r=>{i.classList.remove(r)})})},gs=n=>{var t=[];return ps(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},ms=n=>(Array.isArray(n)||(n=[n]),n),vs=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function bs(){var n=this;n.hook("instead","setCaret",t=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?t=n.items.length:(t=Math.max(0,Math.min(n.items.length,t)),t!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((e,i)=>{i<t?n.control_input.insertAdjacentElement("beforebegin",e):n.control.appendChild(e)})),n.caretPos=t}),n.hook("instead","moveCaret",t=>{if(!n.isFocused)return;const e=n.getLastActive(t);if(e){const i=vs(e);n.setCaret(t>0?i+1:i),n.setActiveItem(),hs(e,"last-active")}else n.setCaret(n.caretPos+t)})}const ws=27,ys=9,Cs=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},_s=(n,t,e,i)=>{n.addEventListener(t,e,i)},Os=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},zi=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ds(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ds=n=>typeof n=="string"&&n.indexOf("<")>-1,Ss=(n,...t)=>{var e=Es(t);n=As(n),n.map(i=>{e.map(r=>{i.classList.add(r)})})},Es=n=>{var t=[];return Os(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},As=n=>(Array.isArray(n)||(n=[n]),n);function xs(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,Ss(n.control_input,"dropdown-input");const t=zi('<div class="dropdown-input-wrap">');t.append(n.control_input),n.dropdown.insertBefore(t,n.dropdown.firstChild);const e=zi('<input class="items-placeholder" tabindex="-1" />');e.placeholder=n.settings.placeholder||"",n.control.append(e)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case ws:n.isOpen&&(Cs(e,!0),n.close()),n.clearActiveItems();return;case ys:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,e)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const t=n.onBlur;n.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==n.control_input))return t.call(n)}),_s(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const Cn=(n,t,e,i)=>{n.addEventListener(t,e,i)};function Is(){var n=this;n.on("initialize",()=>{var t=document.createElement("span"),e=n.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(t);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const a of i)t.style[a]=e.style[a];var r=()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"};r(),n.on("update item_add item_remove",r),Cn(e,"input",r),Cn(e,"keyup",r),Cn(e,"blur",r),Cn(e,"update",r)})}function Ms(){var n=this,t=n.deleteSelection;this.hook("instead","deleteSelection",e=>n.activeItems.length?t.call(n,e):!1)}function ks(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Ki=37,Ts=39,Fs=(n,t,e)=>{for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},Ls=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function Ps(){var n=this,t=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var i,r,a,o;if(!n.isOpen||!(e.keyCode===Ki||e.keyCode===Ts))return t.call(n,e);n.ignoreHover=!0,o=Fs(n.activeOption,"[data-group]"),i=Ls(n.activeOption,"[data-selectable]"),o&&(e.keyCode===Ki?o=o.previousSibling:o=o.nextSibling,o&&(a=o.querySelectorAll("[data-selectable]"),r=a[Math.min(a.length-1,i)],r&&n.setActiveOption(r)))})}const Ns=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Wi=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Xi=(n,t,e,i)=>{n.addEventListener(t,e,i)},Ui=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if($s(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},$s=n=>typeof n=="string"&&n.indexOf("<")>-1;function Hs(n){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var e=this;if(t.append){var i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+Ns(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var r=e.settings.render.item;e.settings.render.item=(a,o)=>{var d=Ui(r.call(e,a,o)),p=Ui(i);return d.appendChild(p),Xi(p,"mousedown",h=>{Wi(h,!0)}),Xi(p,"click",h=>{e.isLocked||(Wi(h,!0),!e.isLocked&&e.shouldDelete([d],h)&&(e.removeItem(d),e.refreshOptions(!1),e.inputState()))}),d}})}}function js(n){const t=this,e=Object.assign({text:i=>i[t.settings.labelField]},n);t.on("item_remove",function(i){if(t.isFocused&&t.control_input.value.trim()===""){var r=t.options[i];r&&t.setTextboxValue(e.text.call(t,r))}})}const Rs=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Ys=(n,...t)=>{var e=Bs(t);n=Vs(n),n.map(i=>{e.map(r=>{i.classList.add(r)})})},Bs=n=>{var t=[];return Rs(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Vs=n=>(Array.isArray(n)||(n=[n]),n);function qs(){const n=this,t=n.canLoad,e=n.clearActiveOption,i=n.loadCallback;var r={},a,o=!1,d,p=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(a.clientHeight/(a.scrollHeight-a.scrollTop)>.9)return!0;if(n.activeOption){var b=n.selectable(),O=Array.from(b).indexOf(n.activeOption);if(O>=b.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const h=b=>typeof n.settings.maxOptions=="number"&&a.children.length>=n.settings.maxOptions?!1:!!(b in r&&r[b]),v=(b,O)=>n.items.indexOf(O)>=0||p.indexOf(O)>=0;n.setNextUrl=(b,O)=>{r[b]=O},n.getUrl=b=>{if(b in r){const O=r[b];return r[b]=!1,O}return n.clearPagination(),n.settings.firstUrl.call(n,b)},n.clearPagination=()=>{r={}},n.hook("instead","clearActiveOption",()=>{if(!o)return e.call(n)}),n.hook("instead","canLoad",b=>b in r?h(b):t.call(n,b)),n.hook("instead","loadCallback",(b,O)=>{if(!o)n.clearOptions(v);else if(d){const H=b[0];H!==void 0&&(d.dataset.value=H[n.settings.valueField])}i.call(n,b,O),o=!1}),n.hook("after","refreshOptions",()=>{const b=n.lastValue;var O;h(b)?(O=n.render("loading_more",{query:b}),O&&(O.setAttribute("data-selectable",""),d=O)):b in r&&!a.querySelector(".no-results")&&(O=n.render("no_more_results",{query:b})),O&&(Ys(O,n.settings.optionClass),a.append(O))}),n.on("initialize",()=>{p=Object.keys(n.options),a=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),a.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&h(n.lastValue)&&(o||(o=!0,n.load.call(n,n.lastValue)))})})}Le.define("change_listener",zo);Le.define("checkbox_options",Qo);Le.define("clear_button",Zo);Le.define("drag_drop",ls);Le.define("dropdown_header",fs);Le.define("caret_position",bs);Le.define("dropdown_input",xs);Le.define("input_autogrow",Is);Le.define("no_backspace_delete",Ms);Le.define("no_active_items",ks);Le.define("optgroup_columns",Ps);Le.define("remove_button",Hs);Le.define("restore_on_backspace",js);Le.define("virtual_scroll",qs);const zs=n=>({init(){const t=this.$refs[`select_picker_${n.dataField}_${n.tableName}`],e={items:n.initialValues,...n.framework,onChange:a=>{mr(n,a)},onInitialize:()=>{window.addEventListener(`pg:clear_multi_select::${n.tableName}:${n.dataField}`,()=>{t&&t.tomselect.clear(!0)}),window.addEventListener(`pg:clear_all_multi_select::${n.tableName}`,()=>{t&&t.tomselect.clear(!0)})}},i={valueField:n.optionValue,labelField:n.optionLabel,searchField:n.optionLabel,load:async function(a,o){function d(p,h){var v;const{method:b,url:O}=p,H=new Request(O,{method:b,body:b.toLowerCase()==="post"?JSON.stringify({search:h,...r}):void 0});H.headers.set("Content-Type","application/json"),H.headers.set("Accept","application/json"),H.headers.set("X-Requested-With","XMLHttpRequest");const _=(v=document.head.querySelector('[name="csrf-token"]'))==null?void 0:v.getAttribute("content");return _&&H.headers.set("X-CSRF-TOKEN",_),H}fetch(d(n.asyncData,a)).then(p=>p.json()).then(p=>{o(p)}).catch(()=>{o()})},render:{option:function(a,o){return`<div class="py-2 mb-1"><span>${o(a[n.optionLabel])}</span></div>`},item:function(a,o){return`<div class="py-2 mb-1"><span>${o(a[n.optionLabel])}</span></div>`}}};let r=e;n.hasOwnProperty("asyncData")&&(r=Object.assign(e,i)),new Le(t,r)}}),Ks=n=>({initialValues:n.initialValues,framework:n.framework,init(){const t=this.$refs["select_picker_"+n.dataField+"_"+n.tableName],e=this.deepCopy(this.framework);new window.SlimSelect({select:t,...e,events:{afterChange:i=>{let r=i.map(a=>a.value);mr(n,r)}}})},deepCopy(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(this.deepCopy);const e={};for(const i in t)t.hasOwnProperty(i)&&(e[i]=this.deepCopy(t[i]));return e}}),Ws=()=>({init(){Livewire.on("pg:scrollTop",n=>{setTimeout(()=>{document.querySelector("body").scrollIntoView({behavior:"auto"})},0)}),new IntersectionObserver(n=>{n[0].isIntersecting&&this.$wire.call("loadMore")},{rootMargin:"300px"}).observe(this.$el)}}),Xs=n=>({rowId:(n==null?void 0:n.rowId)??null,parentId:(n==null?void 0:n.parentId)??null,toHtml(){let t=null;const e=this.parentId??this.$wire.id;if(this.rowId){const r=window[`pgActions_${e}`];r&&r[this.rowId]!==void 0&&(t=r[this.rowId])}else t=window[`pgActionsHeader_${e}`];if(typeof t!="object"||t===null)return"";let i="";return t.forEach(r=>{let a=this.shouldHideAction(r),o=this.getReplaceHtml(r);if(!a)if(o)i+=o;else{let d=this.buildAttributesString(r);if(r.icon){let p=this.processIcon(r);if(!p)return;i+=this.buildActionHtmlWithIcon(r,d,p)}else i+=this.buildActionHtml(r,d)}}),i},shouldHideAction(t){if(t.can===!1)return!0;let e=!1;return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(i=>{i.action.includes(t.action)&&i.apply&&i.rule.hide&&(e=!0)}),e},getReplaceHtml(t){let e=null;return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(i=>{i.apply&&i.action.includes(t.action)&&i.replaceHtml&&(e=i.replaceHtml)}),e},buildAttributesString(t){let e=t.attributes??[];return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(i=>{i.apply&&i.action.includes(t.action)&&i.rule.setAttribute&&i.rule.setAttribute.length>0&&Object.values(i.rule.setAttribute).forEach(r=>{e[r.attribute]=r.value})}),Object.entries(e).map(([i,r])=>` ${i}="${r}"`).join("")},processIcon(t){const e=Object.entries(t.iconAttributes??[]).map(([r,a])=>` ${r}="${a}"`).join("");let i=window.pgResourceIcons[t.icon];return typeof i>"u"?(console.warn(`PowerGrid: Unable to load icons in javascript window in row: [${this.rowId}]`),null):this.replaceIconAttributes(i,e)},replaceIconAttributes(t,e){return t.replace(/<([^\s>]+)([^>]*)>/,(i,r,a)=>{let o=a.trim();const d=e.replace(/class="([^"]*)"/,(p,h)=>(o.includes("class=")?o=o.replace(/class="([^"]*)"/,(v,b)=>`class="${b} ${h.trim()}"`):o+=` ${p}`,""));return`<${r} ${o} ${d}>`})},buildActionHtmlWithIcon(t,e,i){return t.slot?`<${t.tag??"button"} ${e}>${i} ${t.slot}</${t.tag??"button"}>`:`<${t.tag??"button"} ${e}>${i}</${t.tag??"button"}>`},buildActionHtml(t,e){return`<${t.tag??"button"} ${e}>${t.slot}</${t.tag??"button"}>`}}),Us=n=>({templateContent:(n==null?void 0:n.templateContent)??null,rendered:null,parentId:(n==null?void 0:n.parentId)??null,init(){const t=Object.keys(this.templateContent)[0],e=window[`pgRowTemplates_${this.parentId??this.$wire.id}`][t],i=this.templateContent[t];if(i){let r=e;for(const[a,o]of Object.entries(i)){const d=`{{ ${a} }}`,p=String(o).replace(/'/g,"\\'");r=r.replaceAll(d,p)}this.rendered=r}}}),Qs=n=>({rowId:n.rowId,rules:n.rules,defaultClasses:n.defaultClasses,attributes:[],theme:[],init(){this.rules&&Object.values(this.rules).forEach(t=>{(t.applyLoop||t.apply)&&t!=null&&t.attributes&&this.attributes.push(t.attributes)})},getAttributes(){let t={class:this.defaultClasses};return this.attributes.forEach(e=>{Object.keys(e).forEach(i=>{t[i]+=t[i]?` ${e[i]}`:e[i]})}),t}});window.pgToggleable=Wr;window.pgFlatpickr=Ur;window.pgEditable=Qr;window.pgResponsive=io;window.pgTomSelect=zs;window.pgSlimSelect=Ks;window.pgLoadMore=Ws;window.pgRenderActions=Xs;window.pgRowAttributes=Qs;window.pgRenderRowTemplate=Us;document.addEventListener("DOMContentLoaded",()=>{Livewire.hook("commit",({component:n,succeed:t,fail:e})=>{n.ephemeral.setUp&&n.ephemeral.setUp.hasOwnProperty("responsive")&&(t(()=>{queueMicrotask(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))})}),e(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))}))})});document.addEventListener("DOMContentLoaded",()=>{window.Alpine.directive("multisort-shift-click",(n,{expression:t})=>{n.addEventListener("click",e=>{window.Livewire.find(t).set("multiSort",e.shiftKey)})})});var li=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Qt={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},an={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},$e=function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},Ke=function(n){return n===!0?1:0};function Qi(n,t){var e;return function(){var i=this,r=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(i,r)},t)}}var ci=function(n){return n instanceof Array?n:[n]};function Te(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function te(n,t,e){var i=window.document.createElement(n);return t=t||"",e=e||"",i.className=t,e!==void 0&&(i.textContent=e),i}function _n(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Dr(n,t){if(t(n))return n;if(n.parentNode)return Dr(n.parentNode,t)}function On(n,t){var e=te("div","numInputWrapper"),i=te("input","numInput "+n),r=te("span","arrowUp"),a=te("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),t!==void 0)for(var o in t)i.setAttribute(o,t[o]);return e.appendChild(i),e.appendChild(r),e.appendChild(a),e}function Be(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch{return n.target}}var ui=function(){},Fn=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},Gs={D:ui,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*Ke(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(parseFloat(t)*1e3)},W:function(n,t,e){var i=parseInt(t),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+e.firstDayOfWeek),r},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:ui,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:ui,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},Nt={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},on={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[on.w(n,t,e)]},F:function(n,t,e){return Fn(on.n(n,t,e)-1,!1,t)},G:function(n,t,e){return $e(on.h(n,t,e))},H:function(n){return $e(n.getHours())},J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[Ke(n.getHours()>11)]},M:function(n,t){return Fn(n.getMonth(),!0,t)},S:function(n){return $e(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return $e(n.getFullYear(),4)},d:function(n){return $e(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return $e(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return $e(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Sr=function(n){var t=n.config,e=t===void 0?Qt:t,i=n.l10n,r=i===void 0?an:i,a=n.isMobile,o=a===void 0?!1:a;return function(d,p,h){var v=h||r;return e.formatDate!==void 0&&!o?e.formatDate(d,p,v):p.split("").map(function(b,O,H){return on[b]&&H[O-1]!=="\\"?on[b](d,v,e):b!=="\\"?b:""}).join("")}},_i=function(n){var t=n.config,e=t===void 0?Qt:t,i=n.l10n,r=i===void 0?an:i;return function(a,o,d,p){if(!(a!==0&&!a)){var h=p||r,v,b=a;if(a instanceof Date)v=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)v=new Date(a);else if(typeof a=="string"){var O=o||(e||Qt).dateFormat,H=String(a).trim();if(H==="today")v=new Date,d=!0;else if(e&&e.parseDate)v=e.parseDate(a,O);else if(/Z$/.test(H)||/GMT$/.test(H))v=new Date(a);else{for(var _=void 0,A=[],M=0,I=0,S="";M<O.length;M++){var B=O[M],J=B==="\\",_e=O[M-1]==="\\"||J;if(Nt[B]&&!_e){S+=Nt[B];var Z=new RegExp(S).exec(a);Z&&(_=!0)&&A[B!=="Y"?"push":"unshift"]({fn:Gs[B],val:Z[++I]})}else J||(S+=".")}v=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),A.forEach(function(D){var N=D.fn,F=D.val;return v=N(v,F,h)||v}),v=_?v:void 0}}if(!(v instanceof Date&&!isNaN(v.getTime()))){e.errorHandler(new Error("Invalid date provided: "+b));return}return d===!0&&v.setHours(0,0,0,0),v}}};function qe(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var Js=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},di=function(n,t,e){return n*3600+t*60+e},Zs=function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},ea={DAY:864e5};function fi(n){var t=n.defaultHour,e=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),a=n.minDate.getMinutes(),o=n.minDate.getSeconds();t<r&&(t=r),t===r&&e<a&&(e=a),t===r&&e===a&&i<o&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var d=n.maxDate.getHours(),p=n.maxDate.getMinutes();t=Math.min(t,d),t===d&&(e=Math.min(p,e)),t===d&&e===p&&(i=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(d){d&&Object.keys(d).forEach(function(p){return n[p]=d[p]})},r=0,a=t;r<a.length;r++){var o=a[r];i(o)}return n});var Ee=function(){return Ee=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ee.apply(this,arguments)},Gi=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var a=arguments[t],o=0,d=a.length;o<d;o++,r++)i[r]=a[o];return i},ta=300;function na(n,t){var e={config:Ee(Ee({},Qt),me.defaultConfig),l10n:an};e.parseDate=_i({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=A,e._setHoursFromDate=O,e._positionCalendar=re,e.changeMonth=wt,e.changeYear=ve,e.clear=yt,e.close=dn,e.onMouseOver=dt,e._createElement=te,e.createDay=Z,e.destroy=Rn,e.isEnabled=nt,e.jumpToDate=S,e.updateValue=xe,e.open=Bn,e.redraw=Je,e.set=pt,e.setDate=_t,e.toggle=Yt;function i(){e.utils={getDaysInMonth:function(u,f){return u===void 0&&(u=e.currentMonth),f===void 0&&(f=e.currentYear),u===1&&(f%4===0&&f%100!==0||f%400===0)?29:e.l10n.daysInMonth[u]}}}function r(){e.element=e.input=n,e.isOpen=!1,Oe(),T(),he(),jt(),i(),e.isMobile||_e(),I(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&O(e.config.noCalendar?e.latestSelectedDateObj:void 0),xe(!1)),d();var u=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&u&&re(),ee("onReady")}function a(){var u;return((u=e.calendarContainer)===null||u===void 0?void 0:u.getRootNode()).activeElement||document.activeElement}function o(u){return u.bind(e)}function d(){var u=e.config;u.weekNumbers===!1&&u.showMonths===1||u.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var f=(e.days.offsetWidth+1)*u.showMonths;e.daysContainer.style.width=f+"px",e.calendarContainer.style.width=f+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function p(u){if(e.selectedDates.length===0){var f=e.config.minDate===void 0||qe(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),m=fi(e.config);f.setHours(m.hours,m.minutes,m.seconds,f.getMilliseconds()),e.selectedDates=[f],e.latestSelectedDateObj=f}u!==void 0&&u.type!=="blur"&&St(u);var y=e._input.value;b(),xe(),e._input.value!==y&&e._debouncedChange()}function h(u,f){return u%12+12*Ke(f===e.l10n.amPM[1])}function v(u){switch(u%24){case 0:case 12:return 12;default:return u%12}}function b(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var u=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,f=(parseInt(e.minuteElement.value,10)||0)%60,m=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(u=h(u,e.amPM.textContent));var y=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&qe(e.latestSelectedDateObj,e.config.minDate,!0)===0,k=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&qe(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var $=di(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),X=di(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),j=di(u,f,m);if(j>X&&j<$){var Q=Zs($);u=Q[0],f=Q[1],m=Q[2]}}else{if(k){var R=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;u=Math.min(u,R.getHours()),u===R.getHours()&&(f=Math.min(f,R.getMinutes())),f===R.getMinutes()&&(m=Math.min(m,R.getSeconds()))}if(y){var K=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;u=Math.max(u,K.getHours()),u===K.getHours()&&f<K.getMinutes()&&(f=K.getMinutes()),f===K.getMinutes()&&(m=Math.max(m,K.getSeconds()))}}H(u,f,m)}}function O(u){var f=u||e.latestSelectedDateObj;f&&f instanceof Date&&H(f.getHours(),f.getMinutes(),f.getSeconds())}function H(u,f,m){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(u%24,f,m||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=$e(e.config.time_24hr?u:(12+u)%12+12*Ke(u%12===0)),e.minuteElement.value=$e(f),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Ke(u>=12)]),e.secondElement!==void 0&&(e.secondElement.value=$e(m)))}function _(u){var f=Be(u),m=parseInt(f.value)+(u.delta||0);(m/1e3>1||u.key==="Enter"&&!/[^\d]/.test(m.toString()))&&ve(m)}function A(u,f,m,y){if(f instanceof Array)return f.forEach(function(k){return A(u,k,m,y)});if(u instanceof Array)return u.forEach(function(k){return A(k,f,m,y)});u.addEventListener(f,m,y),e._handlers.push({remove:function(){return u.removeEventListener(f,m,y)}})}function M(){ee("onChange")}function I(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(m){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+m+"]"),function(y){return A(y,"click",e[m])})}),e.isMobile){Rt();return}var u=Qi(Ct,50);if(e._debouncedChange=Qi(M,ta),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&A(e.daysContainer,"mouseover",function(m){e.config.mode==="range"&&dt(Be(m))}),A(e._input,"keydown",it),e.calendarContainer!==void 0&&A(e.calendarContainer,"keydown",it),!e.config.inline&&!e.config.static&&A(window,"resize",u),window.ontouchstart!==void 0?A(window.document,"touchstart",$t):A(window.document,"mousedown",$t),A(window.document,"focus",$t,{capture:!0}),e.config.clickOpens===!0&&(A(e._input,"focus",e.open),A(e._input,"click",e.open)),e.daysContainer!==void 0&&(A(e.monthNav,"click",ht),A(e.monthNav,["keyup","increment"],_),A(e.daysContainer,"click",se)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var f=function(m){return Be(m).select()};A(e.timeContainer,["increment"],p),A(e.timeContainer,"blur",p,{capture:!0}),A(e.timeContainer,"click",B),A([e.hourElement,e.minuteElement],["focus","click"],f),e.secondElement!==void 0&&A(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&A(e.amPM,"click",function(m){p(m)})}e.config.allowInput&&A(e._input,"blur",Yn)}function S(u,f){var m=u!==void 0?e.parseDate(u):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),y=e.currentYear,k=e.currentMonth;try{m!==void 0&&(e.currentYear=m.getFullYear(),e.currentMonth=m.getMonth())}catch($){$.message="Invalid date supplied: "+m,e.config.errorHandler($)}f&&e.currentYear!==y&&(ee("onYearChange"),pe()),f&&(e.currentYear!==y||e.currentMonth!==k)&&ee("onMonthChange"),e.redraw()}function B(u){var f=Be(u);~f.className.indexOf("arrow")&&J(u,f.classList.contains("arrowUp")?1:-1)}function J(u,f,m){var y=u&&Be(u),k=m||y&&y.parentNode&&y.parentNode.firstChild,$=Ae("increment");$.delta=f,k&&k.dispatchEvent($)}function _e(){var u=window.document.createDocumentFragment();if(e.calendarContainer=te("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(u.appendChild(Ne()),e.innerContainer=te("div","flatpickr-innerContainer"),e.config.weekNumbers){var f=jn(),m=f.weekWrapper,y=f.weekNumbers;e.innerContainer.appendChild(m),e.weekNumbers=y,e.weekWrapper=m}e.rContainer=te("div","flatpickr-rContainer"),e.rContainer.appendChild(un()),e.daysContainer||(e.daysContainer=te("div","flatpickr-days"),e.daysContainer.tabIndex=-1),we(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),u.appendChild(e.innerContainer)}e.config.enableTime&&u.appendChild(cn()),Te(e.calendarContainer,"rangeMode",e.config.mode==="range"),Te(e.calendarContainer,"animate",e.config.animate===!0),Te(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(u);var k=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!k&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var $=te("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore($,e.element),$.appendChild(e.element),e.altInput&&$.appendChild(e.altInput),$.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function Z(u,f,m,y){var k=nt(f,!0),$=te("span",u,f.getDate().toString());return $.dateObj=f,$.$i=y,$.setAttribute("aria-label",e.formatDate(f,e.config.ariaDateFormat)),u.indexOf("hidden")===-1&&qe(f,e.now)===0&&(e.todayDateElem=$,$.classList.add("today"),$.setAttribute("aria-current","date")),k?($.tabIndex=-1,Ot(f)&&($.classList.add("selected"),e.selectedDateElem=$,e.config.mode==="range"&&(Te($,"startRange",e.selectedDates[0]&&qe(f,e.selectedDates[0],!0)===0),Te($,"endRange",e.selectedDates[1]&&qe(f,e.selectedDates[1],!0)===0),u==="nextMonthDay"&&$.classList.add("inRange")))):$.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Jt(f)&&!Ot(f)&&$.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&u!=="prevMonthDay"&&y%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(f)+"</span>"),ee("onDayCreate",$),$}function D(u){u.focus(),e.config.mode==="range"&&dt(u)}function N(u){for(var f=u>0?0:e.config.showMonths-1,m=u>0?e.config.showMonths:-1,y=f;y!=m;y+=u)for(var k=e.daysContainer.children[y],$=u>0?0:k.children.length-1,X=u>0?k.children.length:-1,j=$;j!=X;j+=u){var Q=k.children[j];if(Q.className.indexOf("hidden")===-1&&nt(Q.dateObj))return Q}}function F(u,f){for(var m=u.className.indexOf("Month")===-1?u.dateObj.getMonth():e.currentMonth,y=f>0?e.config.showMonths:-1,k=f>0?1:-1,$=m-e.currentMonth;$!=y;$+=k)for(var X=e.daysContainer.children[$],j=m-e.currentMonth===$?u.$i+f:f<0?X.children.length-1:0,Q=X.children.length,R=j;R>=0&&R<Q&&R!=(f>0?Q:-1);R+=k){var K=X.children[R];if(K.className.indexOf("hidden")===-1&&nt(K.dateObj)&&Math.abs(u.$i-R)>=Math.abs(f))return D(K)}e.changeMonth(k),q(N(k),0)}function q(u,f){var m=a(),y=Ht(m||document.body),k=u!==void 0?u:y?m:e.selectedDateElem!==void 0&&Ht(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Ht(e.todayDateElem)?e.todayDateElem:N(f>0?1:-1);k===void 0?e._input.focus():y?F(k,f):D(k)}function P(u,f){for(var m=(new Date(u,f,1).getDay()-e.l10n.firstDayOfWeek+7)%7,y=e.utils.getDaysInMonth((f-1+12)%12,u),k=e.utils.getDaysInMonth(f,u),$=window.document.createDocumentFragment(),X=e.config.showMonths>1,j=X?"prevMonthDay hidden":"prevMonthDay",Q=X?"nextMonthDay hidden":"nextMonthDay",R=y+1-m,K=0;R<=y;R++,K++)$.appendChild(Z("flatpickr-day "+j,new Date(u,f-1,R),R,K));for(R=1;R<=k;R++,K++)$.appendChild(Z("flatpickr-day",new Date(u,f,R),R,K));for(var ne=k+1;ne<=42-m&&(e.config.showMonths===1||K%7!==0);ne++,K++)$.appendChild(Z("flatpickr-day "+Q,new Date(u,f+1,ne%k),ne,K));var je=te("div","dayContainer");return je.appendChild($),je}function we(){if(e.daysContainer!==void 0){_n(e.daysContainer),e.weekNumbers&&_n(e.weekNumbers);for(var u=document.createDocumentFragment(),f=0;f<e.config.showMonths;f++){var m=new Date(e.currentYear,e.currentMonth,1);m.setMonth(e.currentMonth+f),u.appendChild(P(m.getFullYear(),m.getMonth()))}e.daysContainer.appendChild(u),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&dt()}}function pe(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var u=function(y){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&y<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&y>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var f=0;f<12;f++)if(u(f)){var m=te("option","flatpickr-monthDropdown-month");m.value=new Date(e.currentYear,f).getMonth().toString(),m.textContent=Fn(f,e.config.shorthandCurrentMonth,e.l10n),m.tabIndex=-1,e.currentMonth===f&&(m.selected=!0),e.monthsDropdownContainer.appendChild(m)}}}function ze(){var u=te("div","flatpickr-month"),f=window.document.createDocumentFragment(),m;e.config.showMonths>1||e.config.monthSelectorType==="static"?m=te("span","cur-month"):(e.monthsDropdownContainer=te("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),A(e.monthsDropdownContainer,"change",function(X){var j=Be(X),Q=parseInt(j.value,10);e.changeMonth(Q-e.currentMonth),ee("onMonthChange")}),pe(),m=e.monthsDropdownContainer);var y=On("cur-year",{tabindex:"-1"}),k=y.getElementsByTagName("input")[0];k.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&k.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(k.setAttribute("max",e.config.maxDate.getFullYear().toString()),k.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var $=te("div","flatpickr-current-month");return $.appendChild(m),$.appendChild(y),f.appendChild($),u.appendChild(f),{container:u,yearElement:k,monthElement:m}}function Ge(){_n(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var u=e.config.showMonths;u--;){var f=ze();e.yearElements.push(f.yearElement),e.monthElements.push(f.monthElement),e.monthNav.appendChild(f.container)}e.monthNav.appendChild(e.nextMonthNav)}function Ne(){return e.monthNav=te("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=te("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=te("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Ge(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(u){e.__hidePrevMonthArrow!==u&&(Te(e.prevMonthNav,"flatpickr-disabled",u),e.__hidePrevMonthArrow=u)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(u){e.__hideNextMonthArrow!==u&&(Te(e.nextMonthNav,"flatpickr-disabled",u),e.__hideNextMonthArrow=u)}}),e.currentYearElement=e.yearElements[0],Dt(),e.monthNav}function cn(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var u=fi(e.config);e.timeContainer=te("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var f=te("span","flatpickr-time-separator",":"),m=On("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=m.getElementsByTagName("input")[0];var y=On("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=y.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=$e(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?u.hours:v(u.hours)),e.minuteElement.value=$e(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():u.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(m),e.timeContainer.appendChild(f),e.timeContainer.appendChild(y),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var k=On("flatpickr-second");e.secondElement=k.getElementsByTagName("input")[0],e.secondElement.value=$e(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():u.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(te("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(k)}return e.config.time_24hr||(e.amPM=te("span","flatpickr-am-pm",e.l10n.amPM[Ke((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function un(){e.weekdayContainer?_n(e.weekdayContainer):e.weekdayContainer=te("div","flatpickr-weekdays");for(var u=e.config.showMonths;u--;){var f=te("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(f)}return We(),e.weekdayContainer}function We(){if(e.weekdayContainer){var u=e.l10n.firstDayOfWeek,f=Gi(e.l10n.weekdays.shorthand);u>0&&u<f.length&&(f=Gi(f.splice(u,f.length),f.splice(0,u)));for(var m=e.config.showMonths;m--;)e.weekdayContainer.children[m].innerHTML=`
      <span class='flatpickr-weekday'>
        `+f.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function jn(){e.calendarContainer.classList.add("hasWeeks");var u=te("div","flatpickr-weekwrapper");u.appendChild(te("span","flatpickr-weekday",e.l10n.weekAbbreviation));var f=te("div","flatpickr-weeks");return u.appendChild(f),{weekWrapper:u,weekNumbers:f}}function wt(u,f){f===void 0&&(f=!0);var m=f?u:u-e.currentMonth;m<0&&e._hidePrevMonthArrow===!0||m>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=m,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,ee("onYearChange"),pe()),we(),ee("onMonthChange"),Dt())}function yt(u,f){if(u===void 0&&(u=!0),f===void 0&&(f=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,f===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var m=fi(e.config),y=m.hours,k=m.minutes,$=m.seconds;H(y,k,$)}e.redraw(),u&&ee("onChange")}function dn(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),ee("onClose")}function Rn(){e.config!==void 0&&ee("onDestroy");for(var u=e._handlers.length;u--;)e._handlers[u].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var f=e.calendarContainer.parentNode;if(f.lastChild&&f.removeChild(f.lastChild),f.parentNode){for(;f.firstChild;)f.parentNode.insertBefore(f.firstChild,f);f.parentNode.removeChild(f)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(m){try{delete e[m]}catch{}})}function ut(u){return e.calendarContainer.contains(u)}function $t(u){if(e.isOpen&&!e.config.inline){var f=Be(u),m=ut(f),y=f===e.input||f===e.altInput||e.element.contains(f)||u.path&&u.path.indexOf&&(~u.path.indexOf(e.input)||~u.path.indexOf(e.altInput)),k=!y&&!m&&!ut(u.relatedTarget),$=!e.config.ignoredFocusElements.some(function(X){return X.contains(f)});k&&$&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&p(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function ve(u){if(!(!u||e.config.minDate&&u<e.config.minDate.getFullYear()||e.config.maxDate&&u>e.config.maxDate.getFullYear())){var f=u,m=e.currentYear!==f;e.currentYear=f||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),m&&(e.redraw(),ee("onYearChange"),pe())}}function nt(u,f){var m;f===void 0&&(f=!0);var y=e.parseDate(u,void 0,f);if(e.config.minDate&&y&&qe(y,e.config.minDate,f!==void 0?f:!e.minDateHasTime)<0||e.config.maxDate&&y&&qe(y,e.config.maxDate,f!==void 0?f:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(y===void 0)return!1;for(var k=!!e.config.enable,$=(m=e.config.enable)!==null&&m!==void 0?m:e.config.disable,X=0,j=void 0;X<$.length;X++){if(j=$[X],typeof j=="function"&&j(y))return k;if(j instanceof Date&&y!==void 0&&j.getTime()===y.getTime())return k;if(typeof j=="string"){var Q=e.parseDate(j,void 0,!0);return Q&&Q.getTime()===y.getTime()?k:!k}else if(typeof j=="object"&&y!==void 0&&j.from&&j.to&&y.getTime()>=j.from.getTime()&&y.getTime()<=j.to.getTime())return k}return!k}function Ht(u){return e.daysContainer!==void 0?u.className.indexOf("hidden")===-1&&u.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(u):!1}function Yn(u){var f=u.target===e._input,m=e._input.value.trimEnd()!==Bt();f&&m&&!(u.relatedTarget&&ut(u.relatedTarget))&&e.setDate(e._input.value,!0,u.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function it(u){var f=Be(u),m=e.config.wrap?n.contains(f):f===e._input,y=e.config.allowInput,k=e.isOpen&&(!y||!m),$=e.config.inline&&m&&!y;if(u.keyCode===13&&m){if(y)return e.setDate(e._input.value,!0,f===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),f.blur();e.open()}else if(ut(f)||k||$){var X=!!e.timeContainer&&e.timeContainer.contains(f);switch(u.keyCode){case 13:X?(u.preventDefault(),p(),ft()):se(u);break;case 27:u.preventDefault(),ft();break;case 8:case 46:m&&!e.config.allowInput&&(u.preventDefault(),e.clear());break;case 37:case 39:if(!X&&!m){u.preventDefault();var j=a();if(e.daysContainer!==void 0&&(y===!1||j&&Ht(j))){var Q=u.keyCode===39?1:-1;u.ctrlKey?(u.stopPropagation(),wt(Q),q(N(1),0)):q(void 0,Q)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:u.preventDefault();var R=u.keyCode===40?1:-1;e.daysContainer&&f.$i!==void 0||f===e.input||f===e.altInput?u.ctrlKey?(u.stopPropagation(),ve(e.currentYear-R),q(N(1),0)):X||q(void 0,R*7):f===e.currentYearElement?ve(e.currentYear-R):e.config.enableTime&&(!X&&e.hourElement&&e.hourElement.focus(),p(u),e._debouncedChange());break;case 9:if(X){var K=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Ie){return Ie}),ne=K.indexOf(f);if(ne!==-1){var je=K[ne+(u.shiftKey?-1:1)];u.preventDefault(),(je||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(f)&&u.shiftKey&&(u.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&f===e.amPM)switch(u.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],b(),xe();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],b(),xe();break}(m||ut(f))&&ee("onKeyDown",u)}function dt(u,f){if(f===void 0&&(f="flatpickr-day"),!(e.selectedDates.length!==1||u&&(!u.classList.contains(f)||u.classList.contains("flatpickr-disabled")))){for(var m=u?u.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),y=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),k=Math.min(m,e.selectedDates[0].getTime()),$=Math.max(m,e.selectedDates[0].getTime()),X=!1,j=0,Q=0,R=k;R<$;R+=ea.DAY)nt(new Date(R),!0)||(X=X||R>k&&R<$,R<y&&(!j||R>j)?j=R:R>y&&(!Q||R<Q)&&(Q=R));var K=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+f));K.forEach(function(ne){var je=ne.dateObj,Ie=je.getTime(),Et=j>0&&Ie<j||Q>0&&Ie>Q;if(Et){ne.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ot){ne.classList.remove(ot)});return}else if(X&&!Et)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ot){ne.classList.remove(ot)}),u!==void 0&&(u.classList.add(m<=e.selectedDates[0].getTime()?"startRange":"endRange"),y<m&&Ie===y?ne.classList.add("startRange"):y>m&&Ie===y&&ne.classList.add("endRange"),Ie>=j&&(Q===0||Ie<=Q)&&Js(Ie,y,m)&&ne.classList.add("inRange"))})}}function Ct(){e.isOpen&&!e.config.static&&!e.config.inline&&re()}function Bn(u,f){if(f===void 0&&(f=e._positionElement),e.isMobile===!0){if(u){u.preventDefault();var m=Be(u);m&&m.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),ee("onOpen");return}else if(e._input.disabled||e.config.inline)return;var y=e.isOpen;e.isOpen=!0,y||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),ee("onOpen"),re(f)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(u===void 0||!e.timeContainer.contains(u.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function fn(u){return function(f){var m=e.config["_"+u+"Date"]=e.parseDate(f,e.config.dateFormat),y=e.config["_"+(u==="min"?"max":"min")+"Date"];m!==void 0&&(e[u==="min"?"minDateHasTime":"maxDateHasTime"]=m.getHours()>0||m.getMinutes()>0||m.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(k){return nt(k)}),!e.selectedDates.length&&u==="min"&&O(m),xe()),e.daysContainer&&(Je(),m!==void 0?e.currentYearElement[u]=m.getFullYear().toString():e.currentYearElement.removeAttribute(u),e.currentYearElement.disabled=!!y&&m!==void 0&&y.getFullYear()===m.getFullYear())}}function Oe(){var u=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],f=Ee(Ee({},JSON.parse(JSON.stringify(n.dataset||{}))),t),m={};e.config.parseDate=f.parseDate,e.config.formatDate=f.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(K){e.config._enable=Xe(K)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(K){e.config._disable=Xe(K)}});var y=f.mode==="time";if(!f.dateFormat&&(f.enableTime||y)){var k=me.defaultConfig.dateFormat||Qt.dateFormat;m.dateFormat=f.noCalendar||y?"H:i"+(f.enableSeconds?":S":""):k+" H:i"+(f.enableSeconds?":S":"")}if(f.altInput&&(f.enableTime||y)&&!f.altFormat){var $=me.defaultConfig.altFormat||Qt.altFormat;m.altFormat=f.noCalendar||y?"h:i"+(f.enableSeconds?":S K":" K"):$+(" h:i"+(f.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:fn("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:fn("max")});var X=function(K){return function(ne){e.config[K==="min"?"_minTime":"_maxTime"]=e.parseDate(ne,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:X("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:X("max")}),f.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,m,f);for(var j=0;j<u.length;j++)e.config[u[j]]=e.config[u[j]]===!0||e.config[u[j]]==="true";li.filter(function(K){return e.config[K]!==void 0}).forEach(function(K){e.config[K]=ci(e.config[K]||[]).map(o)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var j=0;j<e.config.plugins.length;j++){var Q=e.config.plugins[j](e)||{};for(var R in Q)li.indexOf(R)>-1?e.config[R]=ci(Q[R]).map(o).concat(e.config[R]):typeof f[R]>"u"&&(e.config[R]=Q[R])}f.altInputClass||(e.config.altInputClass=be().className+" "+e.config.altInputClass),ee("onParseConfig")}function be(){return e.config.wrap?n.querySelector("[data-input]"):n}function T(){typeof e.config.locale!="object"&&typeof me.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=Ee(Ee({},me.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?me.l10ns[e.config.locale]:void 0),Nt.D="("+e.l10n.weekdays.shorthand.join("|")+")",Nt.l="("+e.l10n.weekdays.longhand.join("|")+")",Nt.M="("+e.l10n.months.shorthand.join("|")+")",Nt.F="("+e.l10n.months.longhand.join("|")+")",Nt.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var u=Ee(Ee({},t),JSON.parse(JSON.stringify(n.dataset||{})));u.time_24hr===void 0&&me.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Sr(e),e.parseDate=_i({config:e.config,l10n:e.l10n})}function re(u){if(typeof e.config.position=="function")return void e.config.position(e,u);if(e.calendarContainer!==void 0){ee("onPreCalendarPosition");var f=u||e._positionElement,m=Array.prototype.reduce.call(e.calendarContainer.children,function(zn,Kn){return zn+Kn.offsetHeight},0),y=e.calendarContainer.offsetWidth,k=e.config.position.split(" "),$=k[0],X=k.length>1?k[1]:null,j=f.getBoundingClientRect(),Q=window.innerHeight-j.bottom,R=$==="above"||$!=="below"&&Q<m&&j.top>m,K=window.pageYOffset+j.top+(R?-m-2:f.offsetHeight+2);if(Te(e.calendarContainer,"arrowTop",!R),Te(e.calendarContainer,"arrowBottom",R),!e.config.inline){var ne=window.pageXOffset+j.left,je=!1,Ie=!1;X==="center"?(ne-=(y-j.width)/2,je=!0):X==="right"&&(ne-=y-j.width,Ie=!0),Te(e.calendarContainer,"arrowLeft",!je&&!Ie),Te(e.calendarContainer,"arrowCenter",je),Te(e.calendarContainer,"arrowRight",Ie);var Et=window.document.body.offsetWidth-(window.pageXOffset+j.right),ot=ne+y>window.document.body.offsetWidth,pn=Et+y>window.document.body.offsetWidth;if(Te(e.calendarContainer,"rightMost",ot),!e.config.static)if(e.calendarContainer.style.top=K+"px",!ot)e.calendarContainer.style.left=ne+"px",e.calendarContainer.style.right="auto";else if(!pn)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Et+"px";else{var Vt=U();if(Vt===void 0)return;var st=window.document.body.offsetWidth,Vn=Math.max(0,st/2-y/2),z=".flatpickr-calendar.centerMost:before",qn=".flatpickr-calendar.centerMost:after",qt=Vt.cssRules.length,Zt="{left:"+j.left+"px;right:auto;}";Te(e.calendarContainer,"rightMost",!1),Te(e.calendarContainer,"centerMost",!0),Vt.insertRule(z+","+qn+Zt,qt),e.calendarContainer.style.left=Vn+"px",e.calendarContainer.style.right="auto"}}}}function U(){for(var u=null,f=0;f<document.styleSheets.length;f++){var m=document.styleSheets[f];if(m.cssRules){try{m.cssRules}catch{continue}u=m;break}}return u??oe()}function oe(){var u=document.createElement("style");return document.head.appendChild(u),u.sheet}function Je(){e.config.noCalendar||e.isMobile||(pe(),Dt(),we())}function ft(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function se(u){u.preventDefault(),u.stopPropagation();var f=function(K){return K.classList&&K.classList.contains("flatpickr-day")&&!K.classList.contains("flatpickr-disabled")&&!K.classList.contains("notAllowed")},m=Dr(Be(u),f);if(m!==void 0){var y=m,k=e.latestSelectedDateObj=new Date(y.dateObj.getTime()),$=(k.getMonth()<e.currentMonth||k.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=y,e.config.mode==="single")e.selectedDates=[k];else if(e.config.mode==="multiple"){var X=Ot(k);X?e.selectedDates.splice(parseInt(X),1):e.selectedDates.push(k)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=k,e.selectedDates.push(k),qe(k,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(K,ne){return K.getTime()-ne.getTime()}));if(b(),$){var j=e.currentYear!==k.getFullYear();e.currentYear=k.getFullYear(),e.currentMonth=k.getMonth(),j&&(ee("onYearChange"),pe()),ee("onMonthChange")}if(Dt(),we(),xe(),!$&&e.config.mode!=="range"&&e.config.showMonths===1?D(y):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var Q=e.config.mode==="single"&&!e.config.enableTime,R=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(Q||R)&&ft()}M()}}var He={locale:[T,We],showMonths:[Ge,d,un],minDate:[S],maxDate:[S],positionElement:[rt],clickOpens:[function(){e.config.clickOpens===!0?(A(e._input,"focus",e.open),A(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function pt(u,f){if(u!==null&&typeof u=="object"){Object.assign(e.config,u);for(var m in u)He[m]!==void 0&&He[m].forEach(function(y){return y()})}else e.config[u]=f,He[u]!==void 0?He[u].forEach(function(y){return y()}):li.indexOf(u)>-1&&(e.config[u]=ci(f));e.redraw(),xe(!0)}function De(u,f){var m=[];if(u instanceof Array)m=u.map(function(y){return e.parseDate(y,f)});else if(u instanceof Date||typeof u=="number")m=[e.parseDate(u,f)];else if(typeof u=="string")switch(e.config.mode){case"single":case"time":m=[e.parseDate(u,f)];break;case"multiple":m=u.split(e.config.conjunction).map(function(y){return e.parseDate(y,f)});break;case"range":m=u.split(e.l10n.rangeSeparator).map(function(y){return e.parseDate(y,f)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(u)));e.selectedDates=e.config.allowInvalidPreload?m:m.filter(function(y){return y instanceof Date&&nt(y,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(y,k){return y.getTime()-k.getTime()})}function _t(u,f,m){if(f===void 0&&(f=!1),m===void 0&&(m=e.config.dateFormat),u!==0&&!u||u instanceof Array&&u.length===0)return e.clear(f);De(u,m),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),S(void 0,f),O(),e.selectedDates.length===0&&e.clear(!1),xe(f),f&&ee("onChange")}function Xe(u){return u.slice().map(function(f){return typeof f=="string"||typeof f=="number"||f instanceof Date?e.parseDate(f,void 0,!0):f&&typeof f=="object"&&f.from&&f.to?{from:e.parseDate(f.from,void 0),to:e.parseDate(f.to,void 0)}:f}).filter(function(f){return f})}function jt(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var u=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);u&&De(u,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function he(){if(e.input=be(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=te(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),rt()}function rt(){e._positionElement=e.config.positionElement||e._input}function Rt(){var u=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=te("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=u,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=u==="datetime-local"?"Y-m-d\\TH:i:S":u==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}A(e.mobileInput,"change",function(f){e.setDate(Be(f).value,!1,e.mobileFormatStr),ee("onChange"),ee("onClose")})}function Yt(u){if(e.isOpen===!0)return e.close();e.open(u)}function ee(u,f){if(e.config!==void 0){var m=e.config[u];if(m!==void 0&&m.length>0)for(var y=0;m[y]&&y<m.length;y++)m[y](e.selectedDates,e.input.value,e,f);u==="onChange"&&(e.input.dispatchEvent(Ae("change")),e.input.dispatchEvent(Ae("input")))}}function Ae(u){var f=document.createEvent("Event");return f.initEvent(u,!0,!0),f}function Ot(u){for(var f=0;f<e.selectedDates.length;f++){var m=e.selectedDates[f];if(m instanceof Date&&qe(m,u)===0)return""+f}return!1}function Jt(u){return e.config.mode!=="range"||e.selectedDates.length<2?!1:qe(u,e.selectedDates[0])>=0&&qe(u,e.selectedDates[1])<=0}function Dt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(u,f){var m=new Date(e.currentYear,e.currentMonth,1);m.setMonth(e.currentMonth+f),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[f].textContent=Fn(m.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=m.getMonth().toString(),u.value=m.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Bt(u){var f=u||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(m){return e.formatDate(m,f)}).filter(function(m,y,k){return e.config.mode!=="range"||e.config.enableTime||k.indexOf(m)===y}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function xe(u){u===void 0&&(u=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Bt(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Bt(e.config.altFormat)),u!==!1&&ee("onValueUpdate")}function ht(u){var f=Be(u),m=e.prevMonthNav.contains(f),y=e.nextMonthNav.contains(f);m||y?wt(m?-1:1):e.yearElements.indexOf(f)>=0?f.select():f.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):f.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function St(u){u.preventDefault();var f=u.type==="keydown",m=Be(u),y=m;e.amPM!==void 0&&m===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Ke(e.amPM.textContent===e.l10n.amPM[0])]);var k=parseFloat(y.getAttribute("min")),$=parseFloat(y.getAttribute("max")),X=parseFloat(y.getAttribute("step")),j=parseInt(y.value,10),Q=u.delta||(f?u.which===38?1:-1:0),R=j+X*Q;if(typeof y.value<"u"&&y.value.length===2){var K=y===e.hourElement,ne=y===e.minuteElement;R<k?(R=$+R+Ke(!K)+(Ke(K)&&Ke(!e.amPM)),ne&&J(void 0,-1,e.hourElement)):R>$&&(R=y===e.hourElement?R-$-Ke(!e.amPM):k,ne&&J(void 0,1,e.hourElement)),e.amPM&&K&&(X===1?R+j===23:Math.abs(R-j)>X)&&(e.amPM.textContent=e.l10n.amPM[Ke(e.amPM.textContent===e.l10n.amPM[0])]),y.value=$e(R)}}return r(),e}function Gt(n,t){for(var e=Array.prototype.slice.call(n).filter(function(o){return o instanceof HTMLElement}),i=[],r=0;r<e.length;r++){var a=e[r];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=na(a,t||{}),i.push(a._flatpickr)}catch(o){console.error(o)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Gt(this,n)},HTMLElement.prototype.flatpickr=function(n){return Gt([this],n)});var me=function(n,t){return typeof n=="string"?Gt(window.document.querySelectorAll(n),t):n instanceof Node?Gt([n],t):Gt(n,t)};me.defaultConfig={};me.l10ns={en:Ee({},an),default:Ee({},an)};me.localize=function(n){me.l10ns.default=Ee(Ee({},me.l10ns.default),n)};me.setDefaults=function(n){me.defaultConfig=Ee(Ee({},me.defaultConfig),n)};me.parseDate=_i({});me.formatDate=Sr({});me.compareDates=qe;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Gt(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=me);function pi(n,t){n.split(/\s+/).forEach(e=>{t(e)})}class ia{constructor(){this._events={}}on(t,e){pi(t,i=>{const r=this._events[i]||[];r.push(e),this._events[i]=r})}off(t,e){var i=arguments.length;if(i===0){this._events={};return}pi(t,r=>{if(i===1){delete this._events[r];return}const a=this._events[r];a!==void 0&&(a.splice(a.indexOf(e),1),this._events[r]=a)})}trigger(t,...e){var i=this;pi(t,r=>{const a=i._events[r];a!==void 0&&a.forEach(o=>{o.apply(i,e)})})}}function ra(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){n.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,i;const r=this,a=[];if(Array.isArray(t))t.forEach(o=>{typeof o=="string"?a.push(o):(r.plugins.settings[o.name]=o.options,a.push(o.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(r.plugins.settings[e]=t[e],a.push(e));for(;i=a.shift();)r.require(i)}loadPlugin(t){var e=this,i=e.plugins,r=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=r.fn.apply(e,[e.plugins.settings[t]||{}]),i.names.push(t)}require(t){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(i.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return i.loaded[t]}}}const Hn=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":sa(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),Er=n=>{if(!oa(n))return n.join("");let t="",e=0;const i=()=>{e>1&&(t+="{"+e+"}")};return n.forEach((r,a)=>{if(r===n[a-1]){e++;return}i(),t+=r,e=1}),i(),t},Ar=n=>{let t=Array.from(n);return Hn(t)},oa=n=>new Set(n).size!==n.length,ln=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),sa=n=>n.reduce((t,e)=>Math.max(t,aa(e)),0),aa=n=>Array.from(n).length,xr=n=>{if(n.length===1)return[[n]];let t=[];const e=n.substring(1);return xr(e).forEach(function(r){let a=r.slice(0);a[0]=n.charAt(0)+a[0],t.push(a),a=r.slice(0),a.unshift(n.charAt(0)),t.push(a)}),t},la=[[0,65535]],ca="[̀-ͯ·ʾʼ]";let Ln,Ir;const ua=3,Si={},Ji={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in Ji){let t=Ji[n]||"";for(let e=0;e<t.length;e++){let i=t.substring(e,e+1);Si[i]=n}}const da=new RegExp(Object.keys(Si).join("|")+"|"+ca,"gu"),fa=n=>{Ln===void 0&&(Ln=ma(la))},Zi=(n,t="NFKD")=>n.normalize(t),Pn=n=>Array.from(n).reduce((t,e)=>t+pa(e),""),pa=n=>(n=Zi(n).toLowerCase().replace(da,t=>Si[t]||""),Zi(n,"NFC"));function*ha(n){for(const[t,e]of n)for(let i=t;i<=e;i++){let r=String.fromCharCode(i),a=Pn(r);a!=r.toLowerCase()&&(a.length>ua||a.length!=0&&(yield{folded:a,composed:r,code_point:i}))}}const ga=n=>{const t={},e=(i,r)=>{const a=t[i]||new Set,o=new RegExp("^"+Ar(a)+"$","iu");r.match(o)||(a.add(ln(r)),t[i]=a)};for(let i of ha(n))e(i.folded,i.folded),e(i.folded,i.composed);return t},ma=n=>{const t=ga(n),e={};let i=[];for(let a in t){let o=t[a];o&&(e[a]=Ar(o)),a.length>1&&i.push(ln(a))}i.sort((a,o)=>o.length-a.length);const r=Hn(i);return Ir=new RegExp("^"+r,"u"),e},va=(n,t=1)=>{let e=0;return n=n.map(i=>(Ln[i]&&(e+=i.length),Ln[i]||i)),e>=t?Er(n):""},ba=(n,t=1)=>(t=Math.max(t,n.length-1),Hn(xr(n).map(e=>va(e,t)))),er=(n,t=!0)=>{let e=n.length>1?1:0;return Hn(n.map(i=>{let r=[];const a=t?i.length():i.length()-1;for(let o=0;o<a;o++)r.push(ba(i.substrs[o]||"",e));return Er(r)}))},wa=(n,t)=>{for(const e of t){if(e.start!=n.start||e.end!=n.end||e.substrs.join("")!==n.substrs.join(""))continue;let i=n.parts;const r=o=>{for(const d of i){if(d.start===o.start&&d.substr===o.substr)return!1;if(!(o.length==1||d.length==1)&&(o.start<d.start&&o.end>d.start||d.start<o.start&&d.end>o.start))return!0}return!1};if(!(e.parts.filter(r).length>0))return!0}return!1};class Nn{constructor(){kt(this,"parts");kt(this,"substrs");kt(this,"start");kt(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let i=new Nn,r=JSON.parse(JSON.stringify(this.parts)),a=r.pop();for(const p of r)i.add(p);let o=e.substr.substring(0,t-a.start),d=o.length;return i.add({start:a.start,end:a.start+d,length:d,substr:o}),i}}const ya=n=>{fa(),n=Pn(n);let t="",e=[new Nn];for(let i=0;i<n.length;i++){let a=n.substring(i).match(Ir);const o=n.substring(i,i+1),d=a?a[0]:null;let p=[],h=new Set;for(const v of e){const b=v.last();if(!b||b.length==1||b.end<=i)if(d){const O=d.length;v.add({start:i,end:i+O,length:O,substr:d}),h.add("1")}else v.add({start:i,end:i+1,length:1,substr:o}),h.add("2");else if(d){let O=v.clone(i,b);const H=d.length;O.add({start:i,end:i+H,length:H,substr:d}),p.push(O)}else h.add("3")}if(p.length>0){p=p.sort((v,b)=>v.length()-b.length());for(let v of p)wa(v,e)||e.push(v);continue}if(i>0&&h.size==1&&!h.has("3")){t+=er(e,!1);let v=new Nn;const b=e[0];b&&v.add(b.last()),e=[v]}}return t+=er(e,!0),t},Ca=(n,t)=>{if(n)return n[t]},_a=(n,t)=>{if(n){for(var e,i=t.split(".");(e=i.shift())&&(n=n[e]););return n}},hi=(n,t,e)=>{var i,r;return!n||(n=n+"",t.regex==null)||(r=n.search(t.regex),r===-1)?0:(i=t.string.length/n.length,r===0&&(i+=.5),i*e)},gi=(n,t)=>{var e=n[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(n[t]=[e])},Dn=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Oa=(n,t)=>typeof n=="number"&&typeof t=="number"?n>t?1:n<t?-1:0:(n=Pn(n+"").toLowerCase(),t=Pn(t+"").toLowerCase(),n>t?1:t>n?-1:0);class Da{constructor(t,e){kt(this,"items");kt(this,"settings");this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,i){if(!t||!t.length)return[];const r=[],a=t.split(/\s+/);var o;return i&&(o=new RegExp("^("+Object.keys(i).map(ln).join("|")+"):(.*)$")),a.forEach(d=>{let p,h=null,v=null;o&&(p=d.match(o))&&(h=p[1],d=p[2]),d.length>0&&(this.settings.diacritics?v=ya(d)||null:v=ln(d),v&&e&&(v="\\b"+v)),r.push({string:d,regex:v?new RegExp(v,"iu"):null,field:h})}),r}getScoreFunction(t,e){var i=this.prepareSearch(t,e);return this._getScoreFunction(i)}_getScoreFunction(t){const e=t.tokens,i=e.length;if(!i)return function(){return 0};const r=t.options.fields,a=t.weights,o=r.length,d=t.getAttrFn;if(!o)return function(){return 1};const p=function(){return o===1?function(h,v){const b=r[0].field;return hi(d(v,b),h,a[b]||1)}:function(h,v){var b=0;if(h.field){const O=d(v,h.field);!h.regex&&O?b+=1/o:b+=hi(O,h,1)}else Dn(a,(O,H)=>{b+=hi(d(v,H),h,O)});return b/o}}();return i===1?function(h){return p(e[0],h)}:t.options.conjunction==="and"?function(h){var v,b=0;for(let O of e){if(v=p(O,h),v<=0)return 0;b+=v}return b/i}:function(h){var v=0;return Dn(e,b=>{v+=p(b,h)}),v/i}}getSortFunction(t,e){var i=this.prepareSearch(t,e);return this._getSortFunction(i)}_getSortFunction(t){var e,i=[];const r=this,a=t.options,o=!t.query&&a.sort_empty?a.sort_empty:a.sort;if(typeof o=="function")return o.bind(this);const d=function(h,v){return h==="$score"?v.score:t.getAttrFn(r.items[v.id],h)};if(o)for(let h of o)(t.query||h.field!=="$score")&&i.push(h);if(t.query){e=!0;for(let h of i)if(h.field==="$score"){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(h=>h.field!=="$score");return i.length?function(h,v){var b,O;for(let H of i)if(O=H.field,b=(H.direction==="desc"?-1:1)*Oa(d(O,h),d(O,v)),b)return b;return 0}:null}prepareSearch(t,e){const i={};var r=Object.assign({},e);if(gi(r,"sort"),gi(r,"sort_empty"),r.fields){gi(r,"fields");const a=[];r.fields.forEach(o=>{typeof o=="string"&&(o={field:o,weight:1}),a.push(o),i[o.field]="weight"in o?o.weight:1}),r.fields=a}return{options:r,query:t.toLowerCase().trim(),tokens:this.tokenize(t,r.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:r.nesting?_a:Ca}}search(t,e){var i=this,r,a;a=this.prepareSearch(t,e),e=a.options,t=a.query;const o=e.score||i._getScoreFunction(a);t.length?Dn(i.items,(p,h)=>{r=o(p),(e.filter===!1||r>0)&&a.items.push({score:r,id:h})}):Dn(i.items,(p,h)=>{a.items.push({score:1,id:h})});const d=i._getSortFunction(a);return d&&a.items.sort(d),a.total=a.items.length,typeof e.limit=="number"&&(a.items=a.items.slice(0,e.limit)),a}}const Qe=n=>typeof n>"u"||n===null?null:In(n),In=n=>typeof n=="boolean"?n?"1":"0":n+"",mi=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Sa=(n,t)=>t>0?window.setTimeout(n,t):(n.call(null),null),Ea=(n,t)=>{var e;return function(i,r){var a=this;e&&(a.loading=Math.max(a.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,a.loadedSearches[i]=!0,n.call(a,i,r)},t)}},tr=(n,t,e)=>{var i,r=n.trigger,a={};n.trigger=function(){var o=arguments[0];if(t.indexOf(o)!==-1)a[o]=arguments;else return r.apply(n,arguments)},e.apply(n,[]),n.trigger=r;for(i of t)i in a&&r.apply(n,a[i])},Aa=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),ue=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Fe=(n,t,e,i)=>{n.addEventListener(t,e,i)},Lt=(n,t)=>{if(!t||!t[n])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},vi=(n,t)=>{const e=n.getAttribute("id");return e||(n.setAttribute("id",t),t)},nr=n=>n.replace(/[\\"']/g,"\\$&"),Pt=(n,t)=>{t&&n.append(t)},Ce=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},tt=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Mr(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Mr=n=>typeof n=="string"&&n.indexOf("<")>-1,xa=n=>n.replace(/['"\\]/g,"\\$&"),bi=(n,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),n.dispatchEvent(e)},Sn=(n,t)=>{Object.assign(n.style,t)},Ve=(n,...t)=>{var e=kr(t);n=Tr(n),n.map(i=>{e.map(r=>{i.classList.add(r)})})},bt=(n,...t)=>{var e=kr(t);n=Tr(n),n.map(i=>{e.map(r=>{i.classList.remove(r)})})},kr=n=>{var t=[];return Ce(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Tr=n=>(Array.isArray(n)||(n=[n]),n),wi=(n,t,e)=>{if(!(e&&!e.contains(n)))for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},ir=(n,t=0)=>t>0?n[n.length-1]:n[0],Ia=n=>Object.keys(n).length===0,rr=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},ce=(n,t)=>{Ce(t,(e,i)=>{e==null?n.removeAttribute(i):n.setAttribute(i,""+e)})},Oi=(n,t)=>{n.parentNode&&n.parentNode.replaceChild(t,n)},Ma=(n,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const e=a=>{var o=a.data.match(t);if(o&&a.data.length>0){var d=document.createElement("span");d.className="highlight";var p=a.splitText(o.index);p.splitText(o[0].length);var h=p.cloneNode(!0);return d.appendChild(h),Oi(p,d),1}return 0},i=a=>{a.nodeType===1&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&(a.className!=="highlight"||a.tagName!=="SPAN")&&Array.from(a.childNodes).forEach(o=>{r(o)})},r=a=>a.nodeType===3?e(a):(i(a),0);r(n)},ka=n=>{var t=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var i=e.parentNode;i.replaceChild(e.firstChild,e),i.normalize()})},Ta=65,Fa=13,La=27,Pa=37,Na=38,$a=39,Ha=40,or=8,ja=46,sr=9,Ra=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),En=Ra?"metaKey":"ctrlKey",ar={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function lr(n,t){var e=Object.assign({},ar,t),i=e.dataAttr,r=e.labelField,a=e.valueField,o=e.disabledField,d=e.optgroupField,p=e.optgroupLabelField,h=e.optgroupValueField,v=n.tagName.toLowerCase(),b=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!b&&!e.allowEmptyOption){let A=n.querySelector('option[value=""]');A&&(b=A.textContent)}var O={placeholder:b,options:[],optgroups:[],items:[],maxItems:null},H=()=>{var A,M=O.options,I={},S=1;let B=0;var J=D=>{var N=Object.assign({},D.dataset),F=i&&N[i];return typeof F=="string"&&F.length&&(N=Object.assign(N,JSON.parse(F))),N},_e=(D,N)=>{var F=Qe(D.value);if(F!=null&&!(!F&&!e.allowEmptyOption)){if(I.hasOwnProperty(F)){if(N){var q=I[F][d];q?Array.isArray(q)?q.push(N):I[F][d]=[q,N]:I[F][d]=N}}else{var P=J(D);P[r]=P[r]||D.textContent,P[a]=P[a]||F,P[o]=P[o]||D.disabled,P[d]=P[d]||N,P.$option=D,P.$order=P.$order||++B,I[F]=P,M.push(P)}D.selected&&O.items.push(F)}},Z=D=>{var N,F;F=J(D),F[p]=F[p]||D.getAttribute("label")||"",F[h]=F[h]||S++,F[o]=F[o]||D.disabled,F.$order=F.$order||++B,O.optgroups.push(F),N=F[h],Ce(D.children,q=>{_e(q,N)})};O.maxItems=n.hasAttribute("multiple")?null:1,Ce(n.children,D=>{A=D.tagName.toLowerCase(),A==="optgroup"?Z(D):A==="option"&&_e(D)})},_=()=>{const A=n.getAttribute(i);if(A)O.options=JSON.parse(A),Ce(O.options,I=>{O.items.push(I[a])});else{var M=n.value.trim()||"";if(!e.allowEmptyOption&&!M.length)return;const I=M.split(e.delimiter);Ce(I,S=>{const B={};B[r]=S,B[a]=S,O.options.push(B)}),O.items=I}};return v==="select"?H():_(),Object.assign({},ar,O,t)}var cr=0;class Pe extends ra(ia){constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,cr++;var i,r=tt(t);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this;var a=window.getComputedStyle&&window.getComputedStyle(r,null);i=a.getPropertyValue("direction");const o=lr(r,e);this.settings=o,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag=r.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=vi(r,"tomselect-"+cr),this.isRequired=r.required,this.sifter=new Da(this.options,{diacritics:o.diacritics}),o.mode=o.mode||(o.maxItems===1?"single":"multi"),typeof o.hideSelected!="boolean"&&(o.hideSelected=o.mode==="multi"),typeof o.hidePlaceholder!="boolean"&&(o.hidePlaceholder=o.mode!=="multi");var d=o.createFilter;typeof d!="function"&&(typeof d=="string"&&(d=new RegExp(d)),d instanceof RegExp?o.createFilter=M=>d.test(M):o.createFilter=M=>this.settings.duplicates||!this.options[M]),this.initializePlugins(o.plugins),this.setupCallbacks(),this.setupTemplates();const p=tt("<div>"),h=tt("<div>"),v=this._render("dropdown"),b=tt('<div role="listbox" tabindex="-1">'),O=this.input.getAttribute("class")||"",H=o.mode;var _;if(Ve(p,o.wrapperClass,O,H),Ve(h,o.controlClass),Pt(p,h),Ve(v,o.dropdownClass,H),o.copyClassesToDropdown&&Ve(v,O),Ve(b,o.dropdownContentClass),Pt(v,b),tt(o.dropdownParent||p).appendChild(v),Mr(o.controlInput)){_=tt(o.controlInput);var A=["autocorrect","autocapitalize","autocomplete","spellcheck"];Ce(A,M=>{r.getAttribute(M)&&ce(_,{[M]:r.getAttribute(M)})}),_.tabIndex=-1,h.appendChild(_),this.focus_node=_}else o.controlInput?(_=tt(o.controlInput),this.focus_node=_):(_=tt("<input/>"),this.focus_node=h);this.wrapper=p,this.dropdown=v,this.dropdown_content=b,this.control=h,this.control_input=_,this.setup()}setup(){const t=this,e=t.settings,i=t.control_input,r=t.dropdown,a=t.dropdown_content,o=t.wrapper,d=t.control,p=t.input,h=t.focus_node,v={passive:!0},b=t.inputId+"-ts-dropdown";ce(a,{id:b}),ce(h,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":b});const O=vi(h,t.inputId+"-ts-control"),H="label[for='"+xa(t.inputId)+"']",_=document.querySelector(H),A=t.focus.bind(t);if(_){Fe(_,"click",A),ce(_,{for:O});const S=vi(_,t.inputId+"-ts-label");ce(h,{"aria-labelledby":S}),ce(a,{"aria-labelledby":S})}if(o.style.width=p.style.width,t.plugins.names.length){const S="plugin-"+t.plugins.names.join(" plugin-");Ve([o,r],S)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&ce(p,{multiple:"multiple"}),e.placeholder&&ce(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+ln(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=Ea(e.load,e.loadThrottle)),Fe(r,"mousemove",()=>{t.ignoreHover=!1}),Fe(r,"mouseenter",S=>{var B=wi(S.target,"[data-selectable]",r);B&&t.onOptionHover(S,B)},{capture:!0}),Fe(r,"click",S=>{const B=wi(S.target,"[data-selectable]");B&&(t.onOptionSelect(S,B),ue(S,!0))}),Fe(d,"click",S=>{var B=wi(S.target,"[data-ts-item]",d);if(B&&t.onItemSelect(S,B)){ue(S,!0);return}i.value==""&&(t.onClick(),ue(S,!0))}),Fe(h,"keydown",S=>t.onKeyDown(S)),Fe(i,"keypress",S=>t.onKeyPress(S)),Fe(i,"input",S=>t.onInput(S)),Fe(h,"blur",S=>t.onBlur(S)),Fe(h,"focus",S=>t.onFocus(S)),Fe(i,"paste",S=>t.onPaste(S));const M=S=>{const B=S.composedPath()[0];if(!o.contains(B)&&!r.contains(B)){t.isFocused&&t.blur(),t.inputState();return}B==i&&t.isOpen?S.stopPropagation():ue(S,!0)},I=()=>{t.isOpen&&t.positionDropdown()};Fe(document,"mousedown",M),Fe(window,"scroll",I,v),Fe(window,"resize",I,v),this._destroy=()=>{document.removeEventListener("mousedown",M),window.removeEventListener("scroll",I),window.removeEventListener("resize",I),_&&_.removeEventListener("click",A)},this.revertSettings={innerHTML:p.innerHTML,tabIndex:p.tabIndex},p.tabIndex=-1,p.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,Fe(p,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,p.disabled?t.disable():p.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),Ve(p,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),Ce(e,i=>{this.registerOptionGroup(i)})}setupTemplates(){var t=this,e=t.settings.labelField,i=t.settings.optgroupLabelField,r={optgroup:a=>{let o=document.createElement("div");return o.className="optgroup",o.appendChild(a.options),o},optgroup_header:(a,o)=>'<div class="optgroup-header">'+o(a[i])+"</div>",option:(a,o)=>"<div>"+o(a[e])+"</div>",item:(a,o)=>"<div>"+o(a[e])+"</div>",option_create:(a,o)=>'<div class="create">Add <strong>'+o(a.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},r,t.settings.render)}setupCallbacks(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)e=this.settings[i[t]],e&&this.on(t,e)}sync(t=!0){const e=this,i=t?lr(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(i.options,i.optgroups),e.setValue(i.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){bi(this.input,"input"),bi(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){ue(t);return}e.settings.splitOn&&setTimeout(()=>{var i=e.inputValue();if(i.match(e.settings.splitOn)){var r=i.trim().split(e.settings.splitOn);Ce(r,a=>{Qe(a)&&(this.options[a]?e.addItem(a):e.createItem(a))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){ue(t);return}var i=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&i===e.settings.delimiter){e.createItem(),ue(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==sr&&ue(t);return}switch(t.keyCode){case Ta:if(Lt(En,t)&&e.control_input.value==""){ue(t),e.selectAll();return}break;case La:e.isOpen&&(ue(t,!0),e.close()),e.clearActiveItems();return;case Ha:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let i=e.getAdjacent(e.activeOption,1);i&&e.setActiveOption(i)}ue(t);return;case Na:if(e.activeOption){let i=e.getAdjacent(e.activeOption,-1);i&&e.setActiveOption(i)}ue(t);return;case Fa:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),ue(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&ue(t);return;case Pa:e.advanceSelection(-1,t);return;case $a:e.advanceSelection(1,t);return;case sr:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),ue(t)),e.settings.create&&e.createItem()&&ue(t));return;case or:case ja:e.deleteSelection(t);return}e.isInputHidden&&!Lt(En,t)&&ue(t)}onInput(t){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Sa(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,i=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),ue(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),i||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(t,e){var i,r=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?r.createItem(null,()=>{r.settings.closeAfterSelect&&r.close()}):(i=e.dataset.value,typeof i<"u"&&(r.lastQuery=null,r.addItem(i),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&t.type&&/click/.test(t.type)&&r.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(ue(t),i.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const e=this;if(!e.canLoad(t))return;Ve(e.wrapper,e.settings.loadingClass),e.loading++;const i=e.loadCallback.bind(e);e.settings.load.call(e,t,i)}loadCallback(t,e){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(t,e),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||bt(i.wrapper,i.settings.loadingClass),i.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,i=e.value!==t;i&&(e.value=t,bi(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var i=e?[]:["change"];tr(this,i,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var i=this,r,a,o,d,p,h;if(i.settings.mode!=="single"){if(!t){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(r=e&&e.type.toLowerCase(),r==="click"&&Lt("shiftKey",e)&&i.activeItems.length){for(h=i.getLastActive(),o=Array.prototype.indexOf.call(i.control.children,h),d=Array.prototype.indexOf.call(i.control.children,t),o>d&&(p=o,o=d,d=p),a=o;a<=d;a++)t=i.control.children[a],i.activeItems.indexOf(t)===-1&&i.setActiveItemClass(t);ue(e)}else r==="click"&&Lt(En,e)||r==="keydown"&&Lt("shiftKey",e)?t.classList.contains("active")?i.removeActiveItem(t):i.setActiveItemClass(t):(i.clearActiveItems(),i.setActiveItemClass(t));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(t){const e=this,i=e.control.querySelector(".last-active");i&&bt(i,"last-active"),Ve(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),bt(t,"active")}clearActiveItems(){bt(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,ce(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),ce(t,{"aria-selected":"true"}),Ve(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const i=this.dropdown_content,r=i.clientHeight,a=i.scrollTop||0,o=t.offsetHeight,d=t.getBoundingClientRect().top-i.getBoundingClientRect().top+a;d+o>r+a?this.scroll(d-r+o,e):d<a&&this.scroll(d,e)}scroll(t,e){const i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=t,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(bt(this.activeOption,"active"),ce(this.activeOption,{"aria-selected":null})),this.activeOption=null,ce(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,Ce(e,i=>{t.setActiveItemClass(i)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(ce(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&ce(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,i,r=this,a=this.getSearchOptions();if(r.settings.score&&(i=r.settings.score.call(r,t),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==r.lastQuery?(r.lastQuery=t,e=r.sifter.search(t,Object.assign(a,{score:i})),r.currentResults=e):e=Object.assign({},r.currentResults),r.settings.hideSelected&&(e.items=e.items.filter(o=>{let d=Qe(o.id);return!(d&&r.items.indexOf(d)!==-1)})),e}refreshOptions(t=!0){var e,i,r,a,o,d,p,h,v,b;const O={},H=[];var _=this,A=_.inputValue();const M=A===_.lastQuery||A==""&&_.lastQuery==null;var I=_.search(A),S=null,B=_.settings.shouldOpen||!1,J=_.dropdown_content;M&&(S=_.activeOption,S&&(v=S.closest("[data-group]"))),a=I.items.length,typeof _.settings.maxOptions=="number"&&(a=Math.min(a,_.settings.maxOptions)),a>0&&(B=!0);const _e=(D,N)=>{let F=O[D];if(F!==void 0){let P=H[F];if(P!==void 0)return[F,P.fragment]}let q=document.createDocumentFragment();return F=H.length,H.push({fragment:q,order:N,optgroup:D}),[F,q]};for(e=0;e<a;e++){let D=I.items[e];if(!D)continue;let N=D.id,F=_.options[N];if(F===void 0)continue;let q=In(N),P=_.getOption(q,!0);for(_.settings.hideSelected||P.classList.toggle("selected",_.items.includes(q)),o=F[_.settings.optgroupField]||"",d=Array.isArray(o)?o:[o],i=0,r=d&&d.length;i<r;i++){o=d[i];let we=F.$order,pe=_.optgroups[o];pe===void 0?o="":we=pe.$order;const[ze,Ge]=_e(o,we);i>0&&(P=P.cloneNode(!0),ce(P,{id:F.$id+"-clone-"+i,"aria-selected":null}),P.classList.add("ts-cloned"),bt(P,"active"),_.activeOption&&_.activeOption.dataset.value==N&&v&&v.dataset.group===o.toString()&&(S=P)),Ge.appendChild(P),o!=""&&(O[o]=ze)}}_.settings.lockOptgroupOrder&&H.sort((D,N)=>D.order-N.order),p=document.createDocumentFragment(),Ce(H,D=>{let N=D.fragment,F=D.optgroup;if(!N||!N.children.length)return;let q=_.optgroups[F];if(q!==void 0){let P=document.createDocumentFragment(),we=_.render("optgroup_header",q);Pt(P,we),Pt(P,N);let pe=_.render("optgroup",{group:q,options:P});Pt(p,pe)}else Pt(p,N)}),J.innerHTML="",Pt(J,p),_.settings.highlight&&(ka(J),I.query.length&&I.tokens.length&&Ce(I.tokens,D=>{Ma(J,D.regex)}));var Z=D=>{let N=_.render(D,{input:A});return N&&(B=!0,J.insertBefore(N,J.firstChild)),N};if(_.loading?Z("loading"):_.settings.shouldLoad.call(_,A)?I.items.length===0&&Z("no_results"):Z("not_loading"),h=_.canCreate(A),h&&(b=Z("option_create")),_.hasOptions=I.items.length>0||h,B){if(I.items.length>0){if(!S&&_.settings.mode==="single"&&_.items[0]!=null&&(S=_.getOption(_.items[0])),!J.contains(S)){let D=0;b&&!_.settings.addPrecedence&&(D=1),S=_.selectable()[D]}}else b&&(S=b);t&&!_.isOpen&&(_.open(),_.scrollToOption(S,"auto")),_.setActiveOption(S)}else _.clearActiveOption(),t&&_.isOpen&&_.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const i=this;if(Array.isArray(t))return i.addOptions(t,e),!1;const r=Qe(t[i.settings.valueField]);return r===null||i.options.hasOwnProperty(r)?!1:(t.$order=t.$order||++i.order,t.$id=i.inputId+"-opt-"+t.$order,i.options[r]=t,i.lastQuery=null,e&&(i.userOptions[r]=e,i.trigger("option_add",r,t)),r)}addOptions(t,e=!1){Ce(t,i=>{this.addOption(i,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=Qe(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var i;e[this.settings.optgroupValueField]=t,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const i=this;var r,a;const o=Qe(t),d=Qe(e[i.settings.valueField]);if(o===null)return;const p=i.options[o];if(p==null)return;if(typeof d!="string")throw new Error("Value must be set in option data");const h=i.getOption(o),v=i.getItem(o);if(e.$order=e.$order||p.$order,delete i.options[o],i.uncacheValue(d),i.options[d]=e,h){if(i.dropdown_content.contains(h)){const b=i._render("option",e);Oi(h,b),i.activeOption===h&&i.setActiveOption(b)}h.remove()}v&&(a=i.items.indexOf(o),a!==-1&&i.items.splice(a,1,d),r=i._render("item",e),v.classList.contains("active")&&Ve(r,"active"),Oi(v,r)),i.lastQuery=null}removeOption(t,e){const i=this;t=In(t),i.uncacheValue(t),delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};Ce(this.options,(r,a)=>{e(r,a)&&(i[a]=r)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const i=Qe(t);if(i===null)return null;const r=this.options[i];if(r!=null){if(r.$div)return r.$div;if(e)return this._render("option",r)}return null}getAdjacent(t,e,i="option"){var r=this,a;if(!t)return null;i=="item"?a=r.controlChildren():a=r.dropdown_content.querySelectorAll("[data-selectable]");for(let o=0;o<a.length;o++)if(a[o]==t)return e>0?a[o+1]:a[o-1];return null}getItem(t){if(typeof t=="object")return t;var e=Qe(t);return e!==null?this.control.querySelector(`[data-value="${nr(e)}"]`):null}addItems(t,e){var i=this,r=Array.isArray(t)?t:[t];r=r.filter(o=>i.items.indexOf(o)===-1);const a=r[r.length-1];r.forEach(o=>{i.isPending=o!==a,i.addItem(o,e)})}addItem(t,e){var i=e?[]:["change","dropdown_close"];tr(this,i,()=>{var r,a;const o=this,d=o.settings.mode,p=Qe(t);if(!(p&&o.items.indexOf(p)!==-1&&(d==="single"&&o.close(),d==="single"||!o.settings.duplicates))&&!(p===null||!o.options.hasOwnProperty(p))&&(d==="single"&&o.clear(e),!(d==="multi"&&o.isFull()))){if(r=o._render("item",o.options[p]),o.control.contains(r)&&(r=r.cloneNode(!0)),a=o.isFull(),o.items.splice(o.caretPos,0,p),o.insertAtCaret(r),o.isSetup){if(!o.isPending&&o.settings.hideSelected){let h=o.getOption(p),v=o.getAdjacent(h,1);v&&o.setActiveOption(v)}!o.isPending&&!o.settings.closeAfterSelect&&o.refreshOptions(o.isFocused&&d!=="single"),o.settings.closeAfterSelect!=!1&&o.isFull()?o.close():o.isPending||o.positionDropdown(),o.trigger("item_add",p,r),o.isPending||o.updateOriginalInput({silent:e})}(!o.isPending||!a&&o.isFull())&&(o.inputState(),o.refreshState())}})}removeItem(t=null,e){const i=this;if(t=i.getItem(t),!t)return;var r,a;const o=t.dataset.value;r=rr(t),t.remove(),t.classList.contains("active")&&(a=i.activeItems.indexOf(t),i.activeItems.splice(a,1),bt(t,"active")),i.items.splice(r,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(o)&&i.removeOption(o,e),r<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:e}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",o,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var i=this,r=i.caretPos,a;if(t=t||i.inputValue(),!i.canCreate(t))return e(),!1;i.lock();var o=!1,d=p=>{if(i.unlock(),!p||typeof p!="object")return e();var h=Qe(p[i.settings.valueField]);if(typeof h!="string")return e();i.setTextboxValue(),i.addOption(p,!0),i.setCaret(r),i.addItem(h),e(p),o=!0};return typeof i.settings.create=="function"?a=i.settings.create.call(this,t,d):a={[i.settings.labelField]:t,[i.settings.valueField]:t},o||d(a),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),i=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const r=t.wrapper.classList;r.toggle("focus",t.isFocused),r.toggle("disabled",t.isDisabled),r.toggle("readonly",t.isReadOnly),r.toggle("required",t.isRequired),r.toggle("invalid",!t.isValid),r.toggle("locked",i),r.toggle("full",e),r.toggle("input-active",t.isFocused&&!t.isInputHidden),r.toggle("dropdown-active",t.isOpen),r.toggle("has-options",Ia(t.options)),r.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var i,r;const a=e.input.querySelector('option[value=""]');if(e.is_select_tag){let p=function(h,v,b){return h||(h=tt('<option value="'+mi(v)+'">'+mi(b)+"</option>")),h!=a&&e.input.append(h),o.push(h),(h!=a||d>0)&&(h.selected=!0),h};const o=[],d=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(h=>{h.selected=!1}),e.items.length==0&&e.settings.mode=="single"?p(a,"",""):e.items.forEach(h=>{if(i=e.options[h],r=i[e.settings.labelField]||"",o.includes(i.$option)){const v=e.input.querySelector(`option[value="${nr(h)}"]:not(:checked)`);p(v,h,r)}else i.$option=p(i.$option,h,r)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,ce(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),Sn(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),Sn(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,i=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,ce(e.focus_node,{"aria-expanded":"false"}),Sn(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),i&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),i=t.offsetHeight+e.top+window.scrollY,r=e.left+window.scrollX;Sn(this.dropdown,{width:e.width+"px",top:i+"px",left:r+"px"})}}clear(t){var e=this;if(e.items.length){var i=e.controlChildren();Ce(i,r=>{e.removeItem(r,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,i=e.caretPos,r=e.control;r.insertBefore(t,r.children[i]||null),e.setCaret(i+1)}deleteSelection(t){var e,i,r,a,o=this;e=t&&t.keyCode===or?-1:1,i=Aa(o.control_input);const d=[];if(o.activeItems.length)a=ir(o.activeItems,e),r=rr(a),e>0&&r++,Ce(o.activeItems,p=>d.push(p));else if((o.isFocused||o.settings.mode==="single")&&o.items.length){const p=o.controlChildren();let h;e<0&&i.start===0&&i.length===0?h=p[o.caretPos-1]:e>0&&i.start===o.inputValue().length&&(h=p[o.caretPos]),h!==void 0&&d.push(h)}if(!o.shouldDelete(d,t))return!1;for(ue(t,!0),typeof r<"u"&&o.setCaret(r);d.length;)o.removeItem(d.pop());return o.inputState(),o.positionDropdown(),o.refreshOptions(!1),!0}shouldDelete(t,e){const i=t.map(r=>r.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,e)===!1)}advanceSelection(t,e){var i,r,a=this;a.rtl&&(t*=-1),!a.inputValue().length&&(Lt(En,e)||Lt("shiftKey",e)?(i=a.getLastActive(t),i?i.classList.contains("active")?r=a.getAdjacent(i,t,"item"):r=i:t>0?r=a.control_input.nextElementSibling:r=a.control_input.previousElementSibling,r&&(r.classList.contains("active")&&a.removeActiveItem(i),a.setActiveItemClass(r))):a.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");if(i)return ir(i,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,bt(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var i,r;const a=this;if(typeof this.settings.render[t]!="function"||(r=a.settings.render[t].call(this,e,mi),!r))return null;if(r=tt(r),t==="option"||t==="option_create"?e[a.settings.disabledField]?ce(r,{"aria-disabled":"true"}):ce(r,{"data-selectable":""}):t==="optgroup"&&(i=e.group[a.settings.optgroupValueField],ce(r,{"data-group":i}),e.group[a.settings.disabledField]&&ce(r,{"data-disabled":""})),t==="option"||t==="item"){const o=In(e[a.settings.valueField]);ce(r,{"data-value":o}),t==="item"?(Ve(r,a.settings.itemClass),ce(r,{"data-ts-item":""})):(Ve(r,a.settings.optionClass),ce(r,{role:"option",id:e.$id}),e.$div=r,a.options[o]=e)}return r}_render(t,e){const i=this.render(t,e);if(i==null)throw"HTMLElement expected";return i}clearCache(){Ce(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,i){var r=this,a=r[e];r[e]=function(){var o,d;return t==="after"&&(o=a.apply(r,arguments)),d=i.apply(r,arguments),t==="instead"?d:(t==="before"&&(o=a.apply(r,arguments)),o)}}}const Ya=(n,t,e,i)=>{n.addEventListener(t,e,i)};function Ba(){Ya(this.input,"change",()=>{this.sync()})}const Va=n=>typeof n>"u"||n===null?null:qa(n),qa=n=>typeof n=="boolean"?n?"1":"0":n+"",ur=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},za=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ka(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ka=n=>typeof n=="string"&&n.indexOf("<")>-1;function Wa(n){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var r=function(d,p){p?(d.checked=!0,i.uncheckedClassNames&&d.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&d.classList.add(...i.checkedClassNames)):(d.checked=!1,i.checkedClassNames&&d.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&d.classList.add(...i.uncheckedClassNames))},a=function(d){setTimeout(()=>{var p=d.querySelector("input."+i.className);p instanceof HTMLInputElement&&r(p,d.classList.contains("selected"))},1)};t.hook("after","setupTemplates",()=>{var o=t.settings.render.option;t.settings.render.option=(d,p)=>{var h=za(o.call(t,d,p)),v=document.createElement("input");i.className&&v.classList.add(i.className),v.addEventListener("click",function(O){ur(O)}),v.type="checkbox";const b=Va(d[t.settings.valueField]);return r(v,!!(b&&t.items.indexOf(b)>-1)),h.prepend(v),h}}),t.on("item_remove",o=>{var d=t.getOption(o);d&&(d.classList.remove("selected"),a(d))}),t.on("item_add",o=>{var d=t.getOption(o);d&&a(d)}),t.hook("instead","onOptionSelect",(o,d)=>{if(d.classList.contains("selected")){d.classList.remove("selected"),t.removeItem(d.dataset.value),t.refreshOptions(),ur(o,!0);return}e.call(t,o,d),a(d)})}const Xa=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ua(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ua=n=>typeof n=="string"&&n.indexOf("<")>-1;function Qa(n){const t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},n);t.on("initialize",()=>{var i=Xa(e.html(e));i.addEventListener("click",r=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),r.preventDefault(),r.stopPropagation())}),t.control.appendChild(i)})}const Ga=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Xt=(n,t,e,i)=>{n.addEventListener(t,e,i)},Ja=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Za=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(el(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},el=n=>typeof n=="string"&&n.indexOf("<")>-1,tl=(n,t)=>{Ja(t,(e,i)=>{e==null?n.removeAttribute(i):n.setAttribute(i,""+e)})},nl=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n.nextSibling)},il=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n)},rl=(n,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,n==t)return!0}while(t&&t.previousElementSibling);return!1};function ol(){var n=this;if(n.settings.mode!=="multi")return;var t=n.lock,e=n.unlock;let i=!0,r;n.hook("after","setupTemplates",()=>{var a=n.settings.render.item;n.settings.render.item=(o,d)=>{const p=Za(a.call(n,o,d));tl(p,{draggable:"true"});const h=A=>{i||Ga(A),A.stopPropagation()},v=A=>{r=p,setTimeout(()=>{p.classList.add("ts-dragging")},0)},b=A=>{A.preventDefault(),p.classList.add("ts-drag-over"),H(p,r)},O=()=>{p.classList.remove("ts-drag-over")},H=(A,M)=>{M!==void 0&&(rl(M,p)?nl(A,M):il(A,M))},_=()=>{var A;document.querySelectorAll(".ts-drag-over").forEach(I=>I.classList.remove("ts-drag-over")),(A=r)==null||A.classList.remove("ts-dragging"),r=void 0;var M=[];n.control.querySelectorAll("[data-value]").forEach(I=>{if(I.dataset.value){let S=I.dataset.value;S&&M.push(S)}}),n.setValue(M)};return Xt(p,"mousedown",h),Xt(p,"dragstart",v),Xt(p,"dragenter",b),Xt(p,"dragover",b),Xt(p,"dragleave",O),Xt(p,"dragend",_),p}}),n.hook("instead","lock",()=>(i=!1,t.call(n))),n.hook("instead","unlock",()=>(i=!0,e.call(n)))}const sl=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},al=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(ll(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},ll=n=>typeof n=="string"&&n.indexOf("<")>-1;function cl(n){const t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},n);t.on("initialize",()=>{var i=al(e.html(e)),r=i.querySelector("."+e.closeClass);r&&r.addEventListener("click",a=>{sl(a,!0),t.close()}),t.dropdown.insertBefore(i,t.dropdown.firstChild)})}const ul=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},dl=(n,...t)=>{var e=fl(t);n=pl(n),n.map(i=>{e.map(r=>{i.classList.remove(r)})})},fl=n=>{var t=[];return ul(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},pl=n=>(Array.isArray(n)||(n=[n]),n),hl=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function gl(){var n=this;n.hook("instead","setCaret",t=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?t=n.items.length:(t=Math.max(0,Math.min(n.items.length,t)),t!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((e,i)=>{i<t?n.control_input.insertAdjacentElement("beforebegin",e):n.control.appendChild(e)})),n.caretPos=t}),n.hook("instead","moveCaret",t=>{if(!n.isFocused)return;const e=n.getLastActive(t);if(e){const i=hl(e);n.setCaret(t>0?i+1:i),n.setActiveItem(),dl(e,"last-active")}else n.setCaret(n.caretPos+t)})}const ml=27,vl=9,bl=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},wl=(n,t,e,i)=>{n.addEventListener(t,e,i)},yl=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},dr=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Cl(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Cl=n=>typeof n=="string"&&n.indexOf("<")>-1,_l=(n,...t)=>{var e=Ol(t);n=Dl(n),n.map(i=>{e.map(r=>{i.classList.add(r)})})},Ol=n=>{var t=[];return yl(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Dl=n=>(Array.isArray(n)||(n=[n]),n);function Sl(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,_l(n.control_input,"dropdown-input");const t=dr('<div class="dropdown-input-wrap">');t.append(n.control_input),n.dropdown.insertBefore(t,n.dropdown.firstChild);const e=dr('<input class="items-placeholder" tabindex="-1" />');e.placeholder=n.settings.placeholder||"",n.control.append(e)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case ml:n.isOpen&&(bl(e,!0),n.close()),n.clearActiveItems();return;case vl:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,e)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const t=n.onBlur;n.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==n.control_input))return t.call(n)}),wl(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const An=(n,t,e,i)=>{n.addEventListener(t,e,i)};function El(){var n=this;n.on("initialize",()=>{var t=document.createElement("span"),e=n.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(t);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const a of i)t.style[a]=e.style[a];var r=()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"};r(),n.on("update item_add item_remove",r),An(e,"input",r),An(e,"keyup",r),An(e,"blur",r),An(e,"update",r)})}function Al(){var n=this,t=n.deleteSelection;this.hook("instead","deleteSelection",e=>n.activeItems.length?t.call(n,e):!1)}function xl(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const fr=37,Il=39,Ml=(n,t,e)=>{for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},kl=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function Tl(){var n=this,t=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var i,r,a,o;if(!n.isOpen||!(e.keyCode===fr||e.keyCode===Il))return t.call(n,e);n.ignoreHover=!0,o=Ml(n.activeOption,"[data-group]"),i=kl(n.activeOption,"[data-selectable]"),o&&(e.keyCode===fr?o=o.previousSibling:o=o.nextSibling,o&&(a=o.querySelectorAll("[data-selectable]"),r=a[Math.min(a.length-1,i)],r&&n.setActiveOption(r)))})}const Fl=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),pr=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},hr=(n,t,e,i)=>{n.addEventListener(t,e,i)},gr=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ll(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ll=n=>typeof n=="string"&&n.indexOf("<")>-1;function Pl(n){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var e=this;if(t.append){var i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+Fl(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var r=e.settings.render.item;e.settings.render.item=(a,o)=>{var d=gr(r.call(e,a,o)),p=gr(i);return d.appendChild(p),hr(p,"mousedown",h=>{pr(h,!0)}),hr(p,"click",h=>{e.isLocked||(pr(h,!0),!e.isLocked&&e.shouldDelete([d],h)&&(e.removeItem(d),e.refreshOptions(!1),e.inputState()))}),d}})}}function Nl(n){const t=this,e=Object.assign({text:i=>i[t.settings.labelField]},n);t.on("item_remove",function(i){if(t.isFocused&&t.control_input.value.trim()===""){var r=t.options[i];r&&t.setTextboxValue(e.text.call(t,r))}})}const $l=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Hl=(n,...t)=>{var e=jl(t);n=Rl(n),n.map(i=>{e.map(r=>{i.classList.add(r)})})},jl=n=>{var t=[];return $l(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Rl=n=>(Array.isArray(n)||(n=[n]),n);function Yl(){const n=this,t=n.canLoad,e=n.clearActiveOption,i=n.loadCallback;var r={},a,o=!1,d,p=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(a.clientHeight/(a.scrollHeight-a.scrollTop)>.9)return!0;if(n.activeOption){var O=n.selectable(),H=Array.from(O).indexOf(n.activeOption);if(H>=O.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const h=b=>typeof n.settings.maxOptions=="number"&&a.children.length>=n.settings.maxOptions?!1:!!(b in r&&r[b]),v=(b,O)=>n.items.indexOf(O)>=0||p.indexOf(O)>=0;n.setNextUrl=(b,O)=>{r[b]=O},n.getUrl=b=>{if(b in r){const O=r[b];return r[b]=!1,O}return n.clearPagination(),n.settings.firstUrl.call(n,b)},n.clearPagination=()=>{r={}},n.hook("instead","clearActiveOption",()=>{if(!o)return e.call(n)}),n.hook("instead","canLoad",b=>b in r?h(b):t.call(n,b)),n.hook("instead","loadCallback",(b,O)=>{if(!o)n.clearOptions(v);else if(d){const H=b[0];H!==void 0&&(d.dataset.value=H[n.settings.valueField])}i.call(n,b,O),o=!1}),n.hook("after","refreshOptions",()=>{const b=n.lastValue;var O;h(b)?(O=n.render("loading_more",{query:b}),O&&(O.setAttribute("data-selectable",""),d=O)):b in r&&!a.querySelector(".no-results")&&(O=n.render("no_more_results",{query:b})),O&&(Hl(O,n.settings.optionClass),a.append(O))}),n.on("initialize",()=>{p=Object.keys(n.options),a=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),a.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&h(n.lastValue)&&(o||(o=!0,n.load.call(n,n.lastValue)))})})}Pe.define("change_listener",Ba);Pe.define("checkbox_options",Wa);Pe.define("clear_button",Qa);Pe.define("drag_drop",ol);Pe.define("dropdown_header",cl);Pe.define("caret_position",gl);Pe.define("dropdown_input",Sl);Pe.define("input_autogrow",El);Pe.define("no_backspace_delete",Al);Pe.define("no_active_items",xl);Pe.define("optgroup_columns",Tl);Pe.define("remove_button",Pl);Pe.define("restore_on_backspace",Nl);Pe.define("virtual_scroll",Yl);(()=>{var Ii,Mi;function n(s,c){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(s);c&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(s,w).enumerable})),l.push.apply(l,g)}return l}function t(s){for(var c=1;c<arguments.length;c++){var l=arguments[c]!=null?arguments[c]:{};c%2?n(Object(l),!0).forEach(function(g){i(s,g,l[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach(function(g){Object.defineProperty(s,g,Object.getOwnPropertyDescriptor(l,g))})}return s}function e(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(s)}function i(s,c,l){return c in s?Object.defineProperty(s,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[c]=l,s}function r(){return r=Object.assign||function(s){for(var c=1;c<arguments.length;c++){var l=arguments[c];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(s[g]=l[g])}return s},r.apply(this,arguments)}function a(s,c){if(s==null)return{};var l={},g=Object.keys(s),w,C;for(C=0;C<g.length;C++)w=g[C],!(c.indexOf(w)>=0)&&(l[w]=s[w]);return l}function o(s,c){if(s==null)return{};var l=a(s,c),g,w;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(s);for(w=0;w<C.length;w++)g=C[w],!(c.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(l[g]=s[g])}return l}var d="1.15.1";function p(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var h=p(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),v=p(/Edge/i),b=p(/firefox/i),O=p(/safari/i)&&!p(/chrome/i)&&!p(/android/i),H=p(/iP(ad|od|hone)/i),_=p(/chrome/i)&&p(/android/i),A={capture:!1,passive:!1};function M(s,c,l){s.addEventListener(c,l,!h&&A)}function I(s,c,l){s.removeEventListener(c,l,!h&&A)}function S(s,c){if(c){if(c[0]===">"&&(c=c.substring(1)),s)try{if(s.matches)return s.matches(c);if(s.msMatchesSelector)return s.msMatchesSelector(c);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(c)}catch{return!1}return!1}}function B(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function J(s,c,l,g){if(s){l=l||document;do{if(c!=null&&(c[0]===">"?s.parentNode===l&&S(s,c):S(s,c))||g&&s===l)return s;if(s===l)break}while(s=B(s))}return null}var _e=/\s+/g;function Z(s,c,l){if(s&&c)if(s.classList)s.classList[l?"add":"remove"](c);else{var g=(" "+s.className+" ").replace(_e," ").replace(" "+c+" "," ");s.className=(g+(l?" "+c:"")).replace(_e," ")}}function D(s,c,l){var g=s&&s.style;if(g){if(l===void 0)return document.defaultView&&document.defaultView.getComputedStyle?l=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(l=s.currentStyle),c===void 0?l:l[c];!(c in g)&&c.indexOf("webkit")===-1&&(c="-webkit-"+c),g[c]=l+(typeof l=="string"?"":"px")}}function N(s,c){var l="";if(typeof s=="string")l=s;else do{var g=D(s,"transform");g&&g!=="none"&&(l=g+" "+l)}while(!c&&(s=s.parentNode));var w=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return w&&new w(l)}function F(s,c,l){if(s){var g=s.getElementsByTagName(c),w=0,C=g.length;if(l)for(;w<C;w++)l(g[w],w);return g}return[]}function q(){var s=document.scrollingElement;return s||document.documentElement}function P(s,c,l,g,w){if(!(!s.getBoundingClientRect&&s!==window)){var C,E,L,x,Y,V,W;if(s!==window&&s.parentNode&&s!==q()?(C=s.getBoundingClientRect(),E=C.top,L=C.left,x=C.bottom,Y=C.right,V=C.height,W=C.width):(E=0,L=0,x=window.innerHeight,Y=window.innerWidth,V=window.innerHeight,W=window.innerWidth),(c||l)&&s!==window&&(w=w||s.parentNode,!h))do if(w&&w.getBoundingClientRect&&(D(w,"transform")!=="none"||l&&D(w,"position")!=="static")){var ae=w.getBoundingClientRect();E-=ae.top+parseInt(D(w,"border-top-width")),L-=ae.left+parseInt(D(w,"border-left-width")),x=E+C.height,Y=L+C.width;break}while(w=w.parentNode);if(g&&s!==window){var G=N(w||s),ge=G&&G.a,ie=G&&G.d;G&&(E/=ie,L/=ge,W/=ge,V/=ie,x=E+V,Y=L+W)}return{top:E,left:L,bottom:x,right:Y,width:W,height:V}}}function we(s){var c=P(s),l=parseInt(D(s,"padding-left")),g=parseInt(D(s,"padding-top")),w=parseInt(D(s,"padding-right")),C=parseInt(D(s,"padding-bottom"));return c.top+=g+parseInt(D(s,"border-top-width")),c.left+=l+parseInt(D(s,"border-left-width")),c.width=s.clientWidth-l-w,c.height=s.clientHeight-g-C,c.bottom=c.top+c.height,c.right=c.left+c.width,c}function pe(s,c,l){for(var g=We(s,!0),w=P(s)[c];g;){var C=P(g)[l],E=void 0;if(E=w>=C,!E)return g;if(g===q())break;g=We(g,!1)}return!1}function ze(s,c,l,g){for(var w=0,C=0,E=s.children;C<E.length;){if(E[C].style.display!=="none"&&E[C]!==z.ghost&&(g||E[C]!==z.dragged)&&J(E[C],l.draggable,s,!1)){if(w===c)return E[C];w++}C++}return null}function Ge(s,c){for(var l=s.lastElementChild;l&&(l===z.ghost||D(l,"display")==="none"||c&&!S(l,c));)l=l.previousElementSibling;return l||null}function Ne(s,c){var l=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==z.clone&&(!c||S(s,c))&&l++;return l}function cn(s){var c=0,l=0,g=q();if(s)do{var w=N(s),C=w.a,E=w.d;c+=s.scrollLeft*C,l+=s.scrollTop*E}while(s!==g&&(s=s.parentNode));return[c,l]}function un(s,c){for(var l in s)if(s.hasOwnProperty(l)){for(var g in c)if(c.hasOwnProperty(g)&&c[g]===s[l][g])return Number(l)}return-1}function We(s,c){if(!s||!s.getBoundingClientRect)return q();var l=s,g=!1;do if(l.clientWidth<l.scrollWidth||l.clientHeight<l.scrollHeight){var w=D(l);if(l.clientWidth<l.scrollWidth&&(w.overflowX=="auto"||w.overflowX=="scroll")||l.clientHeight<l.scrollHeight&&(w.overflowY=="auto"||w.overflowY=="scroll")){if(!l.getBoundingClientRect||l===document.body)return q();if(g||c)return l;g=!0}}while(l=l.parentNode);return q()}function jn(s,c){if(s&&c)for(var l in c)c.hasOwnProperty(l)&&(s[l]=c[l]);return s}function wt(s,c){return Math.round(s.top)===Math.round(c.top)&&Math.round(s.left)===Math.round(c.left)&&Math.round(s.height)===Math.round(c.height)&&Math.round(s.width)===Math.round(c.width)}var yt;function dn(s,c){return function(){if(!yt){var l=arguments,g=this;l.length===1?s.call(g,l[0]):s.apply(g,l),yt=setTimeout(function(){yt=void 0},c)}}}function Rn(){clearTimeout(yt),yt=void 0}function ut(s,c,l){s.scrollLeft+=c,s.scrollTop+=l}function $t(s){var c=window.Polymer,l=window.jQuery||window.Zepto;return c&&c.dom?c.dom(s).cloneNode(!0):l?l(s).clone(!0)[0]:s.cloneNode(!0)}var ve="Sortable"+new Date().getTime();function nt(){var s=[],c;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var l=[].slice.call(this.el.children);l.forEach(function(g){if(!(D(g,"display")==="none"||g===z.ghost)){s.push({target:g,rect:P(g)});var w=t({},s[s.length-1].rect);if(g.thisAnimationDuration){var C=N(g,!0);C&&(w.top-=C.f,w.left-=C.e)}g.fromRect=w}})}},addAnimationState:function(l){s.push(l)},removeAnimationState:function(l){s.splice(un(s,{target:l}),1)},animateAll:function(l){var g=this;if(!this.options.animation){clearTimeout(c),typeof l=="function"&&l();return}var w=!1,C=0;s.forEach(function(E){var L=0,x=E.target,Y=x.fromRect,V=P(x),W=x.prevFromRect,ae=x.prevToRect,G=E.rect,ge=N(x,!0);ge&&(V.top-=ge.f,V.left-=ge.e),x.toRect=V,x.thisAnimationDuration&&wt(W,V)&&!wt(Y,V)&&(G.top-V.top)/(G.left-V.left)===(Y.top-V.top)/(Y.left-V.left)&&(L=Yn(G,W,ae,g.options)),wt(V,Y)||(x.prevFromRect=Y,x.prevToRect=V,L||(L=g.options.animation),g.animate(x,G,V,L)),L&&(w=!0,C=Math.max(C,L),clearTimeout(x.animationResetTimer),x.animationResetTimer=setTimeout(function(){x.animationTime=0,x.prevFromRect=null,x.fromRect=null,x.prevToRect=null,x.thisAnimationDuration=null},L),x.thisAnimationDuration=L)}),clearTimeout(c),w?c=setTimeout(function(){typeof l=="function"&&l()},C):typeof l=="function"&&l(),s=[]},animate:function(l,g,w,C){if(C){D(l,"transition",""),D(l,"transform","");var E=N(this.el),L=E&&E.a,x=E&&E.d,Y=(g.left-w.left)/(L||1),V=(g.top-w.top)/(x||1);l.animatingX=!!Y,l.animatingY=!!V,D(l,"transform","translate3d("+Y+"px,"+V+"px,0)"),this.forRepaintDummy=Ht(l),D(l,"transition","transform "+C+"ms"+(this.options.easing?" "+this.options.easing:"")),D(l,"transform","translate3d(0,0,0)"),typeof l.animated=="number"&&clearTimeout(l.animated),l.animated=setTimeout(function(){D(l,"transition",""),D(l,"transform",""),l.animated=!1,l.animatingX=!1,l.animatingY=!1},C)}}}}function Ht(s){return s.offsetWidth}function Yn(s,c,l,g){return Math.sqrt(Math.pow(c.top-s.top,2)+Math.pow(c.left-s.left,2))/Math.sqrt(Math.pow(c.top-l.top,2)+Math.pow(c.left-l.left,2))*g.animation}var it=[],dt={initializeByDefault:!0},Ct={mount:function(s){for(var c in dt)dt.hasOwnProperty(c)&&!(c in s)&&(s[c]=dt[c]);it.forEach(function(l){if(l.pluginName===s.pluginName)throw"Sortable: Cannot mount plugin ".concat(s.pluginName," more than once")}),it.push(s)},pluginEvent:function(s,c,l){var g=this;this.eventCanceled=!1,l.cancel=function(){g.eventCanceled=!0};var w=s+"Global";it.forEach(function(C){c[C.pluginName]&&(c[C.pluginName][w]&&c[C.pluginName][w](t({sortable:c},l)),c.options[C.pluginName]&&c[C.pluginName][s]&&c[C.pluginName][s](t({sortable:c},l)))})},initializePlugins:function(s,c,l,g){it.forEach(function(E){var L=E.pluginName;if(!(!s.options[L]&&!E.initializeByDefault)){var x=new E(s,c,s.options);x.sortable=s,x.options=s.options,s[L]=x,r(l,x.defaults)}});for(var w in s.options)if(s.options.hasOwnProperty(w)){var C=this.modifyOption(s,w,s.options[w]);typeof C<"u"&&(s.options[w]=C)}},getEventProperties:function(s,c){var l={};return it.forEach(function(g){typeof g.eventProperties=="function"&&r(l,g.eventProperties.call(c[g.pluginName],s))}),l},modifyOption:function(s,c,l){var g;return it.forEach(function(w){s[w.pluginName]&&w.optionListeners&&typeof w.optionListeners[c]=="function"&&(g=w.optionListeners[c].call(s[w.pluginName],l))}),g}};function Bn(s){var c=s.sortable,l=s.rootEl,g=s.name,w=s.targetEl,C=s.cloneEl,E=s.toEl,L=s.fromEl,x=s.oldIndex,Y=s.newIndex,V=s.oldDraggableIndex,W=s.newDraggableIndex,ae=s.originalEvent,G=s.putSortable,ge=s.extraEventProperties;if(c=c||l&&l[ve],!!c){var ie,at=c.options,Me="on"+g.charAt(0).toUpperCase()+g.substr(1);window.CustomEvent&&!h&&!v?ie=new CustomEvent(g,{bubbles:!0,cancelable:!0}):(ie=document.createEvent("Event"),ie.initEvent(g,!0,!0)),ie.to=E||l,ie.from=L||l,ie.item=w||l,ie.clone=C,ie.oldIndex=x,ie.newIndex=Y,ie.oldDraggableIndex=V,ie.newDraggableIndex=W,ie.originalEvent=ae,ie.pullMode=G?G.lastPutMode:void 0;var lt=t(t({},ge),Ct.getEventProperties(g,c));for(var Se in lt)ie[Se]=lt[Se];l&&l.dispatchEvent(ie),at[Me]&&at[Me].call(c,ie)}}var fn=["evt"],Oe=function(s,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=l.evt,w=o(l,fn);Ct.pluginEvent.bind(z)(s,c,t({dragEl:T,parentEl:re,ghostEl:U,rootEl:oe,nextEl:Je,lastDownEl:ft,cloneEl:se,cloneHidden:He,dragStarted:xe,putSortable:he,activeSortable:z.active,originalEvent:g,oldIndex:pt,oldDraggableIndex:_t,newIndex:De,newDraggableIndex:Xe,hideGhostForTarget:pn,unhideGhostForTarget:Vt,cloneNowHidden:function(){He=!0},cloneNowShown:function(){He=!1},dispatchSortableEvent:function(C){be({sortable:c,name:C,originalEvent:g})}},w))};function be(s){Bn(t({putSortable:he,cloneEl:se,targetEl:T,rootEl:oe,oldIndex:pt,oldDraggableIndex:_t,newIndex:De,newDraggableIndex:Xe},s))}var T,re,U,oe,Je,ft,se,He,pt,De,_t,Xe,jt,he,rt=!1,Rt=!1,Yt=[],ee,Ae,Ot,Jt,Dt,Bt,xe,ht,St,u=!1,f=!1,m,y,k=[],$=!1,X=[],j=typeof document<"u",Q=H,R=v||h?"cssFloat":"float",K=j&&!_&&!H&&"draggable"in document.createElement("div"),ne=function(){if(j){if(h)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}}(),je=function(s,c){var l=D(s),g=parseInt(l.width)-parseInt(l.paddingLeft)-parseInt(l.paddingRight)-parseInt(l.borderLeftWidth)-parseInt(l.borderRightWidth),w=ze(s,0,c),C=ze(s,1,c),E=w&&D(w),L=C&&D(C),x=E&&parseInt(E.marginLeft)+parseInt(E.marginRight)+P(w).width,Y=L&&parseInt(L.marginLeft)+parseInt(L.marginRight)+P(C).width;if(l.display==="flex")return l.flexDirection==="column"||l.flexDirection==="column-reverse"?"vertical":"horizontal";if(l.display==="grid")return l.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(w&&E.float&&E.float!=="none"){var V=E.float==="left"?"left":"right";return C&&(L.clear==="both"||L.clear===V)?"vertical":"horizontal"}return w&&(E.display==="block"||E.display==="flex"||E.display==="table"||E.display==="grid"||x>=g&&l[R]==="none"||C&&l[R]==="none"&&x+Y>g)?"vertical":"horizontal"},Ie=function(s,c,l){var g=l?s.left:s.top,w=l?s.right:s.bottom,C=l?s.width:s.height,E=l?c.left:c.top,L=l?c.right:c.bottom,x=l?c.width:c.height;return g===E||w===L||g+C/2===E+x/2},Et=function(s,c){var l;return Yt.some(function(g){var w=g[ve].options.emptyInsertThreshold;if(!(!w||Ge(g))){var C=P(g),E=s>=C.left-w&&s<=C.right+w,L=c>=C.top-w&&c<=C.bottom+w;if(E&&L)return l=g}}),l},ot=function(s){function c(w,C){return function(E,L,x,Y){var V=E.options.group.name&&L.options.group.name&&E.options.group.name===L.options.group.name;if(w==null&&(C||V))return!0;if(w==null||w===!1)return!1;if(C&&w==="clone")return w;if(typeof w=="function")return c(w(E,L,x,Y),C)(E,L,x,Y);var W=(C?E:L).options.group.name;return w===!0||typeof w=="string"&&w===W||w.join&&w.indexOf(W)>-1}}var l={},g=s.group;(!g||e(g)!="object")&&(g={name:g}),l.name=g.name,l.checkPull=c(g.pull,!0),l.checkPut=c(g.put),l.revertClone=g.revertClone,s.group=l},pn=function(){!ne&&U&&D(U,"display","none")},Vt=function(){!ne&&U&&D(U,"display","")};j&&!_&&document.addEventListener("click",function(s){if(Rt)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),Rt=!1,!1},!0);var st=function(s){if(T){s=s.touches?s.touches[0]:s;var c=Et(s.clientX,s.clientY);if(c){var l={};for(var g in s)s.hasOwnProperty(g)&&(l[g]=s[g]);l.target=l.rootEl=c,l.preventDefault=void 0,l.stopPropagation=void 0,c[ve]._onDragOver(l)}}},Vn=function(s){T&&T.parentNode[ve]._isOutsideThisEl(s.target)};function z(s,c){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=c=r({},c),s[ve]=this;var l={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return je(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(C,E){C.setData("Text",E.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:z.supportPointer!==!1&&"PointerEvent"in window&&!O,emptyInsertThreshold:5};Ct.initializePlugins(this,s,l);for(var g in l)!(g in c)&&(c[g]=l[g]);ot(c);for(var w in this)w.charAt(0)==="_"&&typeof this[w]=="function"&&(this[w]=this[w].bind(this));this.nativeDraggable=c.forceFallback?!1:K,this.nativeDraggable&&(this.options.touchStartThreshold=1),c.supportPointer?M(s,"pointerdown",this._onTapStart):(M(s,"mousedown",this._onTapStart),M(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(M(s,"dragover",this),M(s,"dragenter",this)),Yt.push(this.el),c.store&&c.store.get&&this.sort(c.store.get(this)||[]),r(this,nt())}z.prototype={constructor:z,_isOutsideThisEl:function(s){!this.el.contains(s)&&s!==this.el&&(ht=null)},_getDirection:function(s,c){return typeof this.options.direction=="function"?this.options.direction.call(this,s,c,T):this.options.direction},_onTapStart:function(s){if(s.cancelable){var c=this,l=this.el,g=this.options,w=g.preventOnFilter,C=s.type,E=s.touches&&s.touches[0]||s.pointerType&&s.pointerType==="touch"&&s,L=(E||s).target,x=s.target.shadowRoot&&(s.path&&s.path[0]||s.composedPath&&s.composedPath()[0])||L,Y=g.filter;if($r(l),!T&&!(/mousedown|pointerdown/.test(C)&&s.button!==0||g.disabled)&&!x.isContentEditable&&!(!this.nativeDraggable&&O&&L&&L.tagName.toUpperCase()==="SELECT")&&(L=J(L,g.draggable,l,!1),!(L&&L.animated)&&ft!==L)){if(pt=Ne(L),_t=Ne(L,g.draggable),typeof Y=="function"){if(Y.call(this,s,L,this)){be({sortable:c,rootEl:x,name:"filter",targetEl:L,toEl:l,fromEl:l}),Oe("filter",c,{evt:s}),w&&s.cancelable&&s.preventDefault();return}}else if(Y&&(Y=Y.split(",").some(function(V){if(V=J(x,V.trim(),l,!1),V)return be({sortable:c,rootEl:V,name:"filter",targetEl:L,fromEl:l,toEl:l}),Oe("filter",c,{evt:s}),!0}),Y)){w&&s.cancelable&&s.preventDefault();return}g.handle&&!J(x,g.handle,l,!1)||this._prepareDragStart(s,E,L)}}},_prepareDragStart:function(s,c,l){var g=this,w=g.el,C=g.options,E=w.ownerDocument,L;if(l&&!T&&l.parentNode===w){var x=P(l);if(oe=w,T=l,re=T.parentNode,Je=T.nextSibling,ft=l,jt=C.group,z.dragged=T,ee={target:T,clientX:(c||s).clientX,clientY:(c||s).clientY},Dt=ee.clientX-x.left,Bt=ee.clientY-x.top,this._lastX=(c||s).clientX,this._lastY=(c||s).clientY,T.style["will-change"]="all",L=function(){if(Oe("delayEnded",g,{evt:s}),z.eventCanceled){g._onDrop();return}g._disableDelayedDragEvents(),!b&&g.nativeDraggable&&(T.draggable=!0),g._triggerDragStart(s,c),be({sortable:g,name:"choose",originalEvent:s}),Z(T,C.chosenClass,!0)},C.ignore.split(",").forEach(function(Y){F(T,Y.trim(),Zt)}),M(E,"dragover",st),M(E,"mousemove",st),M(E,"touchmove",st),M(E,"mouseup",g._onDrop),M(E,"touchend",g._onDrop),M(E,"touchcancel",g._onDrop),b&&this.nativeDraggable&&(this.options.touchStartThreshold=4,T.draggable=!0),Oe("delayStart",this,{evt:s}),C.delay&&(!C.delayOnTouchOnly||c)&&(!this.nativeDraggable||!(v||h))){if(z.eventCanceled){this._onDrop();return}M(E,"mouseup",g._disableDelayedDrag),M(E,"touchend",g._disableDelayedDrag),M(E,"touchcancel",g._disableDelayedDrag),M(E,"mousemove",g._delayedDragTouchMoveHandler),M(E,"touchmove",g._delayedDragTouchMoveHandler),C.supportPointer&&M(E,"pointermove",g._delayedDragTouchMoveHandler),g._dragStartTimer=setTimeout(L,C.delay)}else L()}},_delayedDragTouchMoveHandler:function(s){var c=s.touches?s.touches[0]:s;Math.max(Math.abs(c.clientX-this._lastX),Math.abs(c.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){T&&Zt(T),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var s=this.el.ownerDocument;I(s,"mouseup",this._disableDelayedDrag),I(s,"touchend",this._disableDelayedDrag),I(s,"touchcancel",this._disableDelayedDrag),I(s,"mousemove",this._delayedDragTouchMoveHandler),I(s,"touchmove",this._delayedDragTouchMoveHandler),I(s,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(s,c){c=c||s.pointerType=="touch"&&s,!this.nativeDraggable||c?this.options.supportPointer?M(document,"pointermove",this._onTouchMove):c?M(document,"touchmove",this._onTouchMove):M(document,"mousemove",this._onTouchMove):(M(T,"dragend",this),M(oe,"dragstart",this._onDragStart));try{document.selection?hn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(s,c){if(rt=!1,oe&&T){Oe("dragStarted",this,{evt:c}),this.nativeDraggable&&M(document,"dragover",Vn);var l=this.options;!s&&Z(T,l.dragClass,!1),Z(T,l.ghostClass,!0),z.active=this,s&&this._appendGhost(),be({sortable:this,name:"start",originalEvent:c})}else this._nulling()},_emulateDragOver:function(){if(Ae){this._lastX=Ae.clientX,this._lastY=Ae.clientY,pn();for(var s=document.elementFromPoint(Ae.clientX,Ae.clientY),c=s;s&&s.shadowRoot&&(s=s.shadowRoot.elementFromPoint(Ae.clientX,Ae.clientY),s!==c);)c=s;if(T.parentNode[ve]._isOutsideThisEl(s),c)do{if(c[ve]){var l=void 0;if(l=c[ve]._onDragOver({clientX:Ae.clientX,clientY:Ae.clientY,target:s,rootEl:c}),l&&!this.options.dragoverBubble)break}s=c}while(c=c.parentNode);Vt()}},_onTouchMove:function(s){if(ee){var c=this.options,l=c.fallbackTolerance,g=c.fallbackOffset,w=s.touches?s.touches[0]:s,C=U&&N(U,!0),E=U&&C&&C.a,L=U&&C&&C.d,x=Q&&y&&cn(y),Y=(w.clientX-ee.clientX+g.x)/(E||1)+(x?x[0]-k[0]:0)/(E||1),V=(w.clientY-ee.clientY+g.y)/(L||1)+(x?x[1]-k[1]:0)/(L||1);if(!z.active&&!rt){if(l&&Math.max(Math.abs(w.clientX-this._lastX),Math.abs(w.clientY-this._lastY))<l)return;this._onDragStart(s,!0)}if(U){C?(C.e+=Y-(Ot||0),C.f+=V-(Jt||0)):C={a:1,b:0,c:0,d:1,e:Y,f:V};var W="matrix(".concat(C.a,",").concat(C.b,",").concat(C.c,",").concat(C.d,",").concat(C.e,",").concat(C.f,")");D(U,"webkitTransform",W),D(U,"mozTransform",W),D(U,"msTransform",W),D(U,"transform",W),Ot=Y,Jt=V,Ae=w}s.cancelable&&s.preventDefault()}},_appendGhost:function(){if(!U){var s=this.options.fallbackOnBody?document.body:oe,c=P(T,!0,Q,!0,s),l=this.options;if(Q){for(y=s;D(y,"position")==="static"&&D(y,"transform")==="none"&&y!==document;)y=y.parentNode;y!==document.body&&y!==document.documentElement?(y===document&&(y=q()),c.top+=y.scrollTop,c.left+=y.scrollLeft):y=q(),k=cn(y)}U=T.cloneNode(!0),Z(U,l.ghostClass,!1),Z(U,l.fallbackClass,!0),Z(U,l.dragClass,!0),D(U,"transition",""),D(U,"transform",""),D(U,"box-sizing","border-box"),D(U,"margin",0),D(U,"top",c.top),D(U,"left",c.left),D(U,"width",c.width),D(U,"height",c.height),D(U,"opacity","0.8"),D(U,"position",Q?"absolute":"fixed"),D(U,"zIndex","100000"),D(U,"pointerEvents","none"),z.ghost=U,s.appendChild(U),D(U,"transform-origin",Dt/parseInt(U.style.width)*100+"% "+Bt/parseInt(U.style.height)*100+"%")}},_onDragStart:function(s,c){var l=this,g=s.dataTransfer,w=l.options;if(Oe("dragStart",this,{evt:s}),z.eventCanceled){this._onDrop();return}Oe("setupClone",this),z.eventCanceled||(se=$t(T),se.removeAttribute("id"),se.draggable=!1,se.style["will-change"]="",this._hideClone(),Z(se,this.options.chosenClass,!1),z.clone=se),l.cloneId=hn(function(){Oe("clone",l),!z.eventCanceled&&(l.options.removeCloneOnHide||oe.insertBefore(se,T),l._hideClone(),be({sortable:l,name:"clone"}))}),!c&&Z(T,w.dragClass,!0),c?(Rt=!0,l._loopId=setInterval(l._emulateDragOver,50)):(I(document,"mouseup",l._onDrop),I(document,"touchend",l._onDrop),I(document,"touchcancel",l._onDrop),g&&(g.effectAllowed="move",w.setData&&w.setData.call(l,g,T)),M(document,"drop",l),D(T,"transform","translateZ(0)")),rt=!0,l._dragStartId=hn(l._dragStarted.bind(l,c,s)),M(document,"selectstart",l),xe=!0,O&&D(document.body,"user-select","none")},_onDragOver:function(s){var c=this.el,l=s.target,g,w,C,E=this.options,L=E.group,x=z.active,Y=jt===L,V=E.sort,W=he||x,ae,G=this,ge=!1;if($)return;function ie(rn,Rr){Oe(rn,G,t({evt:s,isOwner:Y,axis:ae?"vertical":"horizontal",revert:C,dragRect:g,targetRect:w,canSort:V,fromSortable:W,target:l,completed:Me,onMove:function(ki,Yr){return qt(oe,c,T,g,ki,P(ki),s,Yr)},changed:lt},Rr))}function at(){ie("dragOverAnimationCapture"),G.captureAnimationState(),G!==W&&W.captureAnimationState()}function Me(rn){return ie("dragOverCompleted",{insertion:rn}),rn&&(Y?x._hideClone():x._showClone(G),G!==W&&(Z(T,he?he.options.ghostClass:x.options.ghostClass,!1),Z(T,E.ghostClass,!0)),he!==G&&G!==z.active?he=G:G===z.active&&he&&(he=null),W===G&&(G._ignoreWhileAnimating=l),G.animateAll(function(){ie("dragOverAnimationComplete"),G._ignoreWhileAnimating=null}),G!==W&&(W.animateAll(),W._ignoreWhileAnimating=null)),(l===T&&!T.animated||l===c&&!l.animated)&&(ht=null),!E.dragoverBubble&&!s.rootEl&&l!==document&&(T.parentNode[ve]._isOutsideThisEl(s.target),!rn&&st(s)),!E.dragoverBubble&&s.stopPropagation&&s.stopPropagation(),ge=!0}function lt(){De=Ne(T),Xe=Ne(T,E.draggable),be({sortable:G,name:"change",toEl:c,newIndex:De,newDraggableIndex:Xe,originalEvent:s})}if(s.preventDefault!==void 0&&s.cancelable&&s.preventDefault(),l=J(l,E.draggable,c,!0),ie("dragOver"),z.eventCanceled)return ge;if(T.contains(s.target)||l.animated&&l.animatingX&&l.animatingY||G._ignoreWhileAnimating===l)return Me(!1);if(Rt=!1,x&&!E.disabled&&(Y?V||(C=re!==oe):he===this||(this.lastPutMode=jt.checkPull(this,x,T,s))&&L.checkPut(this,x,T,s))){if(ae=this._getDirection(s,l)==="vertical",g=P(T),ie("dragOverValid"),z.eventCanceled)return ge;if(C)return re=oe,at(),this._hideClone(),ie("revert"),z.eventCanceled||(Je?oe.insertBefore(T,Je):oe.appendChild(T)),Me(!0);var Se=Ge(c,E.draggable);if(!Se||Fr(s,ae,this)&&!Se.animated){if(Se===T)return Me(!1);if(Se&&c===s.target&&(l=Se),l&&(w=P(l)),qt(oe,c,T,g,l,w,s,!!l)!==!1)return at(),Se&&Se.nextSibling?c.insertBefore(T,Se.nextSibling):c.appendChild(T),re=c,lt(),Me(!0)}else if(Se&&Kn(s,ae,this)){var At=ze(c,0,E,!0);if(At===T)return Me(!1);if(l=At,w=P(l),qt(oe,c,T,g,l,w,s,!1)!==!1)return at(),c.insertBefore(T,At),re=c,lt(),Me(!0)}else if(l.parentNode===c){w=P(l);var Ze=0,xt,nn=T.parentNode!==c,zt=!Ie(T.animated&&T.toRect||g,l.animated&&l.toRect||w,ae),Re=ae?"top":"left",gt=pe(l,"top","top")||pe(T,"top","top"),vn=gt?gt.scrollTop:void 0;ht!==l&&(xt=w[Re],u=!1,f=!zt&&E.invertSwap||nn),Ze=Lr(s,l,w,ae,zt?1:E.swapThreshold,E.invertedSwapThreshold==null?E.swapThreshold:E.invertedSwapThreshold,f,ht===l);var ct;if(Ze!==0){var Kt=Ne(T);do Kt-=Ze,ct=re.children[Kt];while(ct&&(D(ct,"display")==="none"||ct===U))}if(Ze===0||ct===l)return Me(!1);ht=l,St=Ze;var It=l.nextElementSibling,mt=!1;mt=Ze===1;var Mt=qt(oe,c,T,g,l,w,s,mt);if(Mt!==!1)return(Mt===1||Mt===-1)&&(mt=Mt===1),$=!0,setTimeout(zn,30),at(),mt&&!It?c.appendChild(T):l.parentNode.insertBefore(T,mt?It:l),gt&&ut(gt,0,vn-gt.scrollTop),re=T.parentNode,xt!==void 0&&!f&&(m=Math.abs(xt-P(l)[Re])),lt(),Me(!0)}if(c.contains(T))return Me(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",st),I(document,"mousemove",st),I(document,"touchmove",st)},_offUpEvents:function(){var s=this.el.ownerDocument;I(s,"mouseup",this._onDrop),I(s,"touchend",this._onDrop),I(s,"pointerup",this._onDrop),I(s,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(s){var c=this.el,l=this.options;if(De=Ne(T),Xe=Ne(T,l.draggable),Oe("drop",this,{evt:s}),re=T&&T.parentNode,De=Ne(T),Xe=Ne(T,l.draggable),z.eventCanceled){this._nulling();return}rt=!1,f=!1,u=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wn(this.cloneId),Wn(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(c,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),O&&D(document.body,"user-select",""),D(T,"transform",""),s&&(xe&&(s.cancelable&&s.preventDefault(),!l.dropBubble&&s.stopPropagation()),U&&U.parentNode&&U.parentNode.removeChild(U),(oe===re||he&&he.lastPutMode!=="clone")&&se&&se.parentNode&&se.parentNode.removeChild(se),T&&(this.nativeDraggable&&I(T,"dragend",this),Zt(T),T.style["will-change"]="",xe&&!rt&&Z(T,he?he.options.ghostClass:this.options.ghostClass,!1),Z(T,this.options.chosenClass,!1),be({sortable:this,name:"unchoose",toEl:re,newIndex:null,newDraggableIndex:null,originalEvent:s}),oe!==re?(De>=0&&(be({rootEl:re,name:"add",toEl:re,fromEl:oe,originalEvent:s}),be({sortable:this,name:"remove",toEl:re,originalEvent:s}),be({rootEl:re,name:"sort",toEl:re,fromEl:oe,originalEvent:s}),be({sortable:this,name:"sort",toEl:re,originalEvent:s})),he&&he.save()):De!==pt&&De>=0&&(be({sortable:this,name:"update",toEl:re,originalEvent:s}),be({sortable:this,name:"sort",toEl:re,originalEvent:s})),z.active&&((De==null||De===-1)&&(De=pt,Xe=_t),be({sortable:this,name:"end",toEl:re,originalEvent:s}),this.save()))),this._nulling()},_nulling:function(){Oe("nulling",this),oe=T=re=U=Je=se=ft=He=ee=Ae=xe=De=Xe=pt=_t=ht=St=he=jt=z.dragged=z.ghost=z.clone=z.active=null,X.forEach(function(s){s.checked=!0}),X.length=Ot=Jt=0},handleEvent:function(s){switch(s.type){case"drop":case"dragend":this._onDrop(s);break;case"dragenter":case"dragover":T&&(this._onDragOver(s),qn(s));break;case"selectstart":s.preventDefault();break}},toArray:function(){for(var s=[],c,l=this.el.children,g=0,w=l.length,C=this.options;g<w;g++)c=l[g],J(c,C.draggable,this.el,!1)&&s.push(c.getAttribute(C.dataIdAttr)||Nr(c));return s},sort:function(s,c){var l={},g=this.el;this.toArray().forEach(function(w,C){var E=g.children[C];J(E,this.options.draggable,g,!1)&&(l[w]=E)},this),c&&this.captureAnimationState(),s.forEach(function(w){l[w]&&(g.removeChild(l[w]),g.appendChild(l[w]))}),c&&this.animateAll()},save:function(){var s=this.options.store;s&&s.set&&s.set(this)},closest:function(s,c){return J(s,c||this.options.draggable,this.el,!1)},option:function(s,c){var l=this.options;if(c===void 0)return l[s];var g=Ct.modifyOption(this,s,c);typeof g<"u"?l[s]=g:l[s]=c,s==="group"&&ot(l)},destroy:function(){Oe("destroy",this);var s=this.el;s[ve]=null,I(s,"mousedown",this._onTapStart),I(s,"touchstart",this._onTapStart),I(s,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(s,"dragover",this),I(s,"dragenter",this)),Array.prototype.forEach.call(s.querySelectorAll("[draggable]"),function(c){c.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Yt.splice(Yt.indexOf(this.el),1),this.el=s=null},_hideClone:function(){if(!He){if(Oe("hideClone",this),z.eventCanceled)return;D(se,"display","none"),this.options.removeCloneOnHide&&se.parentNode&&se.parentNode.removeChild(se),He=!0}},_showClone:function(s){if(s.lastPutMode!=="clone"){this._hideClone();return}if(He){if(Oe("showClone",this),z.eventCanceled)return;T.parentNode==oe&&!this.options.group.revertClone?oe.insertBefore(se,T):Je?oe.insertBefore(se,Je):oe.appendChild(se),this.options.group.revertClone&&this.animate(T,se),D(se,"display",""),He=!1}}};function qn(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function qt(s,c,l,g,w,C,E,L){var x,Y=s[ve],V=Y.options.onMove,W;return window.CustomEvent&&!h&&!v?x=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent("move",!0,!0)),x.to=c,x.from=s,x.dragged=l,x.draggedRect=g,x.related=w||c,x.relatedRect=C||P(c),x.willInsertAfter=L,x.originalEvent=E,s.dispatchEvent(x),V&&(W=V.call(Y,x,E)),W}function Zt(s){s.draggable=!1}function zn(){$=!1}function Kn(s,c,l){var g=P(ze(l.el,0,l.options,!0)),w=we(l.el),C=10;return c?s.clientX<w.left-C||s.clientY<g.top&&s.clientX<g.right:s.clientY<w.top-C||s.clientY<g.bottom&&s.clientX<g.left}function Fr(s,c,l){var g=P(Ge(l.el,l.options.draggable)),w=we(l.el),C=10;return c?s.clientX>w.right+C||s.clientY>g.bottom&&s.clientX>g.left:s.clientY>w.bottom+C||s.clientX>g.right&&s.clientY>g.top}function Lr(s,c,l,g,w,C,E,L){var x=g?s.clientY:s.clientX,Y=g?l.height:l.width,V=g?l.top:l.left,W=g?l.bottom:l.right,ae=!1;if(!E){if(L&&m<Y*w){if(!u&&(St===1?x>V+Y*C/2:x<W-Y*C/2)&&(u=!0),u)ae=!0;else if(St===1?x<V+m:x>W-m)return-St}else if(x>V+Y*(1-w)/2&&x<W-Y*(1-w)/2)return Pr(c)}return ae=ae||E,ae&&(x<V+Y*C/2||x>W-Y*C/2)?x>V+Y/2?1:-1:0}function Pr(s){return Ne(T)<Ne(s)?1:-1}function Nr(s){for(var c=s.tagName+s.className+s.src+s.href+s.textContent,l=c.length,g=0;l--;)g+=c.charCodeAt(l);return g.toString(36)}function $r(s){X.length=0;for(var c=s.getElementsByTagName("input"),l=c.length;l--;){var g=c[l];g.checked&&X.push(g)}}function hn(s){return setTimeout(s,0)}function Wn(s){return clearTimeout(s)}j&&M(document,"touchmove",function(s){(z.active||rt)&&s.cancelable&&s.preventDefault()}),z.utils={on:M,off:I,css:D,find:F,is:function(s,c){return!!J(s,c,s,!1)},extend:jn,throttle:dn,closest:J,toggleClass:Z,clone:$t,index:Ne,nextTick:hn,cancelNextTick:Wn,detectDirection:je,getChild:ze},z.get=function(s){return s[ve]},z.mount=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];c[0].constructor===Array&&(c=c[0]),c.forEach(function(g){if(!g.prototype||!g.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(g));g.utils&&(z.utils=t(t({},z.utils),g.utils)),Ct.mount(g)})},z.create=function(s,c){return new z(s,c)},z.version=d;var fe=[],en,Xn,Un=!1,Qn,Gn,gn,tn;function Hr(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var c in this)c.charAt(0)==="_"&&typeof this[c]=="function"&&(this[c]=this[c].bind(this))}return s.prototype={dragStarted:function(c){var l=c.originalEvent;this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):this.options.supportPointer?M(document,"pointermove",this._handleFallbackAutoScroll):l.touches?M(document,"touchmove",this._handleFallbackAutoScroll):M(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(c){var l=c.originalEvent;!this.options.dragOverBubble&&!l.rootEl&&this._handleAutoScroll(l)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),Ei(),mn(),Rn()},nulling:function(){gn=Xn=en=Un=tn=Qn=Gn=null,fe.length=0},_handleFallbackAutoScroll:function(c){this._handleAutoScroll(c,!0)},_handleAutoScroll:function(c,l){var g=this,w=(c.touches?c.touches[0]:c).clientX,C=(c.touches?c.touches[0]:c).clientY,E=document.elementFromPoint(w,C);if(gn=c,l||this.options.forceAutoScrollFallback||v||h||O){Jn(c,this.options,E,l);var L=We(E,!0);Un&&(!tn||w!==Qn||C!==Gn)&&(tn&&Ei(),tn=setInterval(function(){var x=We(document.elementFromPoint(w,C),!0);x!==L&&(L=x,mn()),Jn(c,g.options,x,l)},10),Qn=w,Gn=C)}else{if(!this.options.bubbleScroll||We(E,!0)===q()){mn();return}Jn(c,this.options,We(E,!1),!1)}}},r(s,{pluginName:"scroll",initializeByDefault:!0})}function mn(){fe.forEach(function(s){clearInterval(s.pid)}),fe=[]}function Ei(){clearInterval(tn)}var Jn=dn(function(s,c,l,g){if(c.scroll){var w=(s.touches?s.touches[0]:s).clientX,C=(s.touches?s.touches[0]:s).clientY,E=c.scrollSensitivity,L=c.scrollSpeed,x=q(),Y=!1,V;Xn!==l&&(Xn=l,mn(),en=c.scroll,V=c.scrollFn,en===!0&&(en=We(l,!0)));var W=0,ae=en;do{var G=ae,ge=P(G),ie=ge.top,at=ge.bottom,Me=ge.left,lt=ge.right,Se=ge.width,At=ge.height,Ze=void 0,xt=void 0,nn=G.scrollWidth,zt=G.scrollHeight,Re=D(G),gt=G.scrollLeft,vn=G.scrollTop;G===x?(Ze=Se<nn&&(Re.overflowX==="auto"||Re.overflowX==="scroll"||Re.overflowX==="visible"),xt=At<zt&&(Re.overflowY==="auto"||Re.overflowY==="scroll"||Re.overflowY==="visible")):(Ze=Se<nn&&(Re.overflowX==="auto"||Re.overflowX==="scroll"),xt=At<zt&&(Re.overflowY==="auto"||Re.overflowY==="scroll"));var ct=Ze&&(Math.abs(lt-w)<=E&&gt+Se<nn)-(Math.abs(Me-w)<=E&&!!gt),Kt=xt&&(Math.abs(at-C)<=E&&vn+At<zt)-(Math.abs(ie-C)<=E&&!!vn);if(!fe[W])for(var It=0;It<=W;It++)fe[It]||(fe[It]={});(fe[W].vx!=ct||fe[W].vy!=Kt||fe[W].el!==G)&&(fe[W].el=G,fe[W].vx=ct,fe[W].vy=Kt,clearInterval(fe[W].pid),(ct!=0||Kt!=0)&&(Y=!0,fe[W].pid=setInterval((function(){g&&this.layer===0&&z.active._onTouchMove(gn);var mt=fe[this.layer].vy?fe[this.layer].vy*L:0,Mt=fe[this.layer].vx?fe[this.layer].vx*L:0;typeof V=="function"&&V.call(z.dragged.parentNode[ve],Mt,mt,s,gn,fe[this.layer].el)!=="continue"||ut(fe[this.layer].el,Mt,mt)}).bind({layer:W}),24))),W++}while(c.bubbleScroll&&ae!==x&&(ae=We(ae,!1)));Un=Y}},30),Ai=function(s){var c=s.originalEvent,l=s.putSortable,g=s.dragEl,w=s.activeSortable,C=s.dispatchSortableEvent,E=s.hideGhostForTarget,L=s.unhideGhostForTarget;if(c){var x=l||w;E();var Y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:c,V=document.elementFromPoint(Y.clientX,Y.clientY);L(),x&&!x.el.contains(V)&&(C("spill"),this.onSpill({dragEl:g,putSortable:l}))}};function Zn(){}Zn.prototype={startIndex:null,dragStart:function(s){var c=s.oldDraggableIndex;this.startIndex=c},onSpill:function(s){var c=s.dragEl,l=s.putSortable;this.sortable.captureAnimationState(),l&&l.captureAnimationState();var g=ze(this.sortable.el,this.startIndex,this.options);g?this.sortable.el.insertBefore(c,g):this.sortable.el.appendChild(c),this.sortable.animateAll(),l&&l.animateAll()},drop:Ai},r(Zn,{pluginName:"revertOnSpill"});function ei(){}ei.prototype={onSpill:function(s){var c=s.dragEl,l=s.putSortable,g=l||this.sortable;g.captureAnimationState(),c.parentNode&&c.parentNode.removeChild(c),g.animateAll()},drop:Ai},r(ei,{pluginName:"removeOnSpill"}),z.mount(new Hr),z.mount(ei,Zn);var jr=z;window.Sortable=jr;var xi=s=>{let c=Array.from(s.childNodes).filter(l=>{var g;return l.nodeType===8&&["[if ENDBLOCK]><![endif]","__ENDBLOCK__"].includes((g=l.nodeValue)==null?void 0:g.trim())})[0];c&&s.appendChild(c)};(Ii=window.Livewire)==null||Ii.directive("sortable",({el:s,directive:c,component:l})=>{if(c.modifiers.length>0)return;let g={};s.hasAttribute("wire:sortable.options")&&(g=new Function(`return ${s.getAttribute("wire:sortable.options")};`)()),s.livewire_sortable=window.Sortable.create(s,{sort:!0,...g,draggable:"[wire\\:sortable\\.item]",handle:s.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null,dataIdAttr:"wire:sortable.item",group:{pull:!1,put:!1,...g.group,name:s.getAttribute("wire:sortable")},store:{...g.store,set:function(E){let L=E.toArray().map((x,Y)=>({order:Y+1,value:x}));xi(s),l.$wire.call(c.method,L)}}});let w=s.querySelector("[wire\\:sortable\\.item]")!==null;if(w)return;let C=l;Livewire.hook("commit",({component:E,succeed:L})=>{E.id===C.id&&(w||L(()=>{queueMicrotask(()=>{s.livewire_sortable.option("handle",s.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null),w=s.querySelector("[wire\\:sortable\\.item]")!==null})}))})}),(Mi=window.Livewire)==null||Mi.directive("sortable-group",({el:s,directive:c,component:l})=>{if(!c.modifiers.includes("item-group"))return;let g={};s.hasAttribute("wire:sortable-group.options")&&(g=new Function(`return ${s.getAttribute("wire:sortable-group.options")};`)()),s.livewire_sortable=window.Sortable.create(s,{sort:!0,...g,draggable:"[wire\\:sortable-group\\.item]",handle:"[wire\\:sortable-group\\.handle]",dataIdAttr:"wire:sortable-group.item",group:{pull:!0,put:!0,...g.group,name:s.closest("[wire\\:sortable-group]").getAttribute("wire:sortable-group")},onSort:w=>{if(w.to!==w.from&&s===w.from)return;let C=s.closest("[wire\\:sortable-group]"),E=Array.from(C.querySelectorAll("[wire\\:sortable-group\\.item-group]")).map((L,x)=>(xi(L),{order:x+1,value:L.getAttribute("wire:sortable-group.item-group"),items:L.livewire_sortable.toArray().map((Y,V)=>({order:V+1,value:Y}))}));C.closest("[wire\\:id]").__livewire.$wire.call(C.getAttribute("wire:sortable-group"),E)}})})})();/*! Bundled license information:

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.1
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/window.TomSelect=Pe;window.Swal=qr;
